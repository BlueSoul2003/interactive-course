<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Masterclass Kata Terbitan (Trilingual)</title>
    <style>
        :root {
            --primary: #4f46e5;
            --success: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
            --bg: #f8fafc;
            --card: #ffffff;
        }
        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background-color: var(--bg);
            color: #1e293b;
            margin: 0;
            padding: 0;
            line-height: 1.6;
        }
        .container { max-width: 900px; margin: 0 auto; padding: 20px; }
        
        /* Navbar */
        .navbar {
            display: flex; justify-content: space-between; align-items: center;
            padding: 15px 30px; background: white; box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            position: sticky; top: 0; z-index: 100;
        }
        .logo { font-weight: 800; font-size: 1.2em; color: var(--primary); }
        .nav-btn {
            background: #e0e7ff; color: var(--primary); border: none; padding: 8px 16px;
            border-radius: 20px; cursor: pointer; font-weight: 600; font-size: 0.9em;
            transition: background 0.2s;
        }
        .nav-btn:hover { background: #c7d2fe; }

        /* Section Visibility */
        .section { display: none; animation: fadeIn 0.4s ease; }
        .section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Card Styles */
        .card {
            background: var(--card); border-radius: 16px; padding: 30px; margin-bottom: 25px;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); border-left: 6px solid #cbd5e1;
        }
        .card h3 { margin-top: 0; color: #0f172a; display: flex; align-items: center; gap: 10px; font-size: 1.4em; border-bottom: 2px solid #f1f5f9; padding-bottom: 10px;}
        
        /* Language Grid */
        .lang-grid { display: grid; grid-template-columns: 1fr; gap: 12px; margin-top: 15px; }
        .lang-block { background: #f8fafc; padding: 15px 20px; border-radius: 10px; border: 1px solid #e2e8f0; }
        .lang-title { font-weight: 800; color: var(--primary); margin-bottom: 5px; font-size: 1.1em; }
        
        .lang-row { display: flex; gap: 12px; align-items: baseline; margin-top: 8px; border-top: 1px dashed #e2e8f0; padding-top: 8px;}
        .lang-row:first-child { border-top: none; padding-top: 0; margin-top: 0; }
        .lang-label { font-size: 0.8em; font-weight: 900; color: #64748b; width: 30px; flex-shrink: 0; }
        .lang-text { font-size: 0.95em; color: #334155; }
        .example-text { color: #0f172a; font-weight: 600; font-style: italic; }
        
        /* Specific Card Accents */
        .card.noun { border-left-color: var(--primary); }
        .card.verb { border-left-color: var(--success); }
        .card.adj { border-left-color: var(--warning); }
        .card.trap { border-left-color: var(--danger); background: #fff5f5; }

        /* Highlight Boxes */
        .highlight-box {
            margin-top:20px; padding:15px 20px; background:#f0fdf4; 
            border:1px dashed var(--success); border-radius:10px;
        }
        .highlight-box.danger {
            background:#fef2f2; border-color: var(--danger);
        }

        /* Quiz UI */
        .quiz-container { text-align: center; max-width: 600px; margin: 40px auto; }
        .progress-bar { width: 100%; height: 8px; background: #e2e8f0; border-radius: 4px; margin-bottom: 20px; overflow: hidden; }
        .progress-fill { height: 100%; background: var(--primary); width: 0%; transition: width 0.3s ease; }
        
        .question-card {
            background: white; padding: 30px; border-radius: 20px; box-shadow: 0 10px 25px -5px rgba(0,0,0,0.1);
            text-align: left;
        }
        .q-number { text-transform: uppercase; letter-spacing: 1px; color: #64748b; font-size: 0.8em; font-weight: bold; }
        .q-text { font-size: 1.3em; font-weight: 700; color: #1e293b; margin-top: 10px; margin-bottom: 25px; }
        
        .options-list { display: grid; gap: 12px; }
        .option-btn {
            width: 100%; padding: 15px 20px; border: 2px solid #e2e8f0; background: white;
            border-radius: 12px; font-size: 1em; text-align: left; cursor: pointer; transition: 0.2s;
        }
        .option-btn:hover:not([disabled]) { border-color: var(--primary); background: #eef2ff; }
        .option-btn.correct { border-color: var(--success); background: #ecfdf5; color: #065f46; font-weight: bold; }
        .option-btn.wrong { border-color: var(--danger); background: #fef2f2; color: #991b1b; }

        /* Translation Toggle UI */
        .trans-toggle-btn {
            background: #f1f5f9; color: var(--primary); border: 1px solid #cbd5e1;
            padding: 6px 12px; border-radius: 8px; cursor: pointer; font-size: 0.85em; font-weight: bold;
            transition: all 0.2s;
        }
        .trans-toggle-btn:hover { background: #e2e8f0; }
        .trans-toggle-btn.active { background: var(--primary); color: white; border-color: var(--primary); }

        .trans-layer { display: none; color: #6366f1; font-size: 0.85em; margin-top: 6px; font-weight: 500; }
        .option-btn .trans-layer { font-size: 0.85em; opacity: 0.9; margin-top: 4px; color: #4f46e5; font-weight: normal;}
        #game-area.show-trans .trans-layer { display: block; animation: fadeIn 0.3s; }
        
        .feedback-box { margin-top: 20px; padding: 15px; border-radius: 10px; display: none; text-align: left; animation: fadeIn 0.3s; }
        .feedback-box.correct { background: #d1fae5; color: #065f46; border: 1px solid #34d399; }
        .feedback-box.wrong { background: #fee2e2; color: #991b1b; border: 1px solid #f87171; }

        .next-btn {
            background: var(--primary); color: white; border: none; padding: 15px 40px;
            font-size: 1.1em; border-radius: 50px; cursor: pointer; margin-top: 25px; display: none; box-shadow: 0 4px 15px rgba(79, 70, 229, 0.4);
        }
        .start-btn {
            background: linear-gradient(135deg, #4f46e5 0%, #3b82f6 100%);
            color: white; border: none; padding: 20px 50px; font-size: 1.5em; font-weight: bold;
            border-radius: 50px; cursor: pointer; margin: 40px auto; display: block; box-shadow: 0 10px 30px rgba(37, 99, 235, 0.3); transition: transform 0.2s;
        }
        .start-btn:hover { transform: scale(1.05); }

    </style>
</head>
<body>

    <div class="navbar">
        <div class="logo">📚 Morfologi Master</div>
        <button class="nav-btn" onclick="toggleMode()">Switch: Notes / Quiz</button>
    </div>

    <div class="container">
        
        <!-- ==============================================
             NOTES VIEW 
        =============================================== -->
        <div id="notes-view" class="section active">
            <header style="text-align:center; margin-bottom:40px;">
                <h1 style="font-size: 2.8em; margin-bottom: 10px; color: var(--primary); letter-spacing: -1px;">Kata Terbitan</h1>
                <p style="color:#64748b; font-weight: 600;">Definitive Guide: Form, Class & Execution</p>
            </header>

            <div class="card">
                <h3>🔍 Definisi (Definition)</h3>
                <div class="lang-grid">
                    <div class="lang-row"><span class="lang-label">BM</span><span class="lang-text">Perkataan yang terbentuk dengan menambah imbuhan pada kata dasar. Proses ini bukan sahaja mengubah makna, malah boleh mengubah golongan kata (cth: Kata Kerja berubah menjadi Kata Nama).</span></div>
                    <div class="lang-row"><span class="lang-label">CN</span><span class="lang-text">指通过在原词 (Kata Dasar) 上添加词缀 (Imbuhan) 而形成的词汇。这个过程不仅能改变词义，还能改变词性（例如从动词变为名词）。</span></div>
                    <div class="lang-row"><span class="lang-label">EN</span><span class="lang-text">Words formed by adding affixes to a root word. This process not only changes the meaning but can also change the word class (e.g., from a Verb to a Noun).</span></div>
                </div>
            </div>

            <div class="card">
                <h3>🧩 1. Kedudukan Imbuhan (4 Forms of Affixes)</h3>
                <p style="color: #64748b; margin-bottom: 15px;">Kedudukan imbuhan menentukan struktur kata terbitan (Affix position determines the structure).</p>
                <div class="lang-grid">
                    <div class="lang-block">
                        <div class="lang-title">1. Awalan (Prefix / 前缀)</div>
                        <div class="lang-text">Ditambah di hadapan kata dasar. (Added to the front / 加在原词的前面)</div>
                        <div class="example-text mt-2">Contoh: berlari (跑/run), pelakon (演员/actor), terbesar (最大/biggest)</div>
                    </div>
                    <div class="lang-block">
                        <div class="lang-title">2. Akhiran (Suffix / 后缀)</div>
                        <div class="lang-text">Ditambah di belakang kata dasar. (Added to the back / 加在原词的后面)</div>
                        <div class="example-text mt-2">Contoh: makanan (食物/food), ambilkan (拿给/take for), sasterawan (文学家/literary figure)</div>
                    </div>
                    <div class="lang-block">
                        <div class="lang-title">3. Apitan (Circumfix / 环缀/前后缀)</div>
                        <div class="lang-text">Ditambah serentak di hadapan dan belakang. (Added to both front and back / 同时加在原词的前后)</div>
                        <div class="example-text mt-2">Contoh: pelaksanaan (执行/implementation), menjalani (经历/undergo), kebaratan (西化/westernized)</div>
                    </div>
                    <div class="lang-block">
                        <div class="lang-title">4. Sisipan (Infix / 中缀)</div>
                        <div class="lang-text">Disisip di tengah kata dasar (Jarang). (Inserted in the middle - Rare / 插入原词的中间 - 较少见)</div>
                        <div class="example-text mt-2">Contoh: telunjuk (食指/index finger - dari kata 'tunjuk'), gemilang (辉煌/glorious - dari kata 'gilang')</div>
                    </div>
                </div>
            </div>

            <div class="card noun">
                <h3>A. Kata Nama Terbitan (Derived Nouns / 派生名词)</h3>
                <p style="color: #64748b; margin-bottom: 15px;">Merujuk kepada manusia, benda, proses atau konsep (Refers to people, things, processes, or concepts).</p>
                
                <div class="lang-grid">
                    <div class="lang-row">
                        <span class="lang-label">peN-</span>
                        <span class="lang-text">
                            <strong>Pelaku/Alat (Doer/Tool / 执行者或工具):</strong> (pe-, pem-, pen-, peng-, penge-)<br>
                            <span class="example-text">Contoh: Pelari (跑步者), Penyapu (扫帚), Pengurus (经理)</span>
                        </span>
                    </div>
                    <div class="lang-row">
                        <span class="lang-label" style="width: auto; margin-right: 10px;">peN-..-an</span>
                        <span class="lang-text">
                            <strong>Proses/Perbuatan (Process/Act / 过程或行为):</strong><br>
                            <span class="example-text">Contoh: Pembinaan (建设过程), Pendaratan (登陆)</span>
                        </span>
                    </div>
                    <div class="lang-row">
                        <span class="lang-label" style="width: auto; margin-right: 10px;">ke-..-an</span>
                        <span class="lang-text">
                            <strong>Abstrak/Status/Tempat (Abstract/State/Place / 抽象概念、状态或地方):</strong><br>
                            <span class="example-text">Contoh: Kesihatan (健康), Kementerian (部门/部), Kedatangan (到来)</span>
                        </span>
                    </div>
                    <div class="lang-row">
                        <span class="lang-label">-an</span>
                        <span class="lang-text">
                            <strong>Hasil/Himpunan (Result/Collection / 结果或集合):</strong><br>
                            <span class="example-text">Contoh: Makanan (食物/吃的东西), Lukisan (画作), Lautan (海洋)</span>
                        </span>
                    </div>
                    <div class="lang-row">
                        <span class="lang-label" style="width: auto; margin-right: 10px;">Pinjaman</span>
                        <span class="lang-text">
                            <strong>Imbuhan Luar (Loan affixes / 外来词缀):</strong> -wan, -man, -wati, juru-, pra-<br>
                            <span class="example-text">Contoh: Seniman (艺术家), Jurutera (工程师), Prasejarah (史前)</span>
                        </span>
                    </div>
                </div>
            </div>

            <div class="card verb">
                <h3>B. Kata Kerja Terbitan (Derived Verbs / 派生动词)</h3>
                <p style="color: #64748b; margin-bottom: 15px;">Paling kompleks; merangkumi aktif, pasif, transitif & tak transitif.</p>
                
                <div class="lang-grid">
                    <div class="lang-row">
                        <span class="lang-label">meN-</span>
                        <span class="lang-text">
                            <strong>Aktif (Active Verb / 主动动词):</strong> (me-, mem-, men-, meng-, menge-)<br>
                            <span class="example-text">Contoh: Membaca (读), Menulis (写), Menggali (挖掘)</span>
                        </span>
                    </div>
                    <div class="lang-row">
                        <span class="lang-label">ber-</span>
                        <span class="lang-text">
                            <strong>Tak Transitif/Keadaan (Intransitive/State / 不及物或状态):</strong><br>
                            <span class="example-text">Contoh: Berjalan (走), Berkereta (有车/乘车), Belajar (学习)</span>
                        </span>
                    </div>
                    <div class="lang-row">
                        <span class="lang-label">di-</span>
                        <span class="lang-text">
                            <strong>Pasif Diri Ke-3 (Passive 3rd Person / 第三人称被动动词):</strong><br>
                            <span class="example-text">Contoh: Dimakan (被吃), Diambil (被拿)</span>
                        </span>
                    </div>
                    <div class="lang-row">
                        <span class="lang-label">ter-</span>
                        <span class="lang-text">
                            <strong>Tak Sengaja/Keupayaan/Selesai (Accidental/Ability/Completed / 无意、能力或完成):</strong><br>
                            <span class="example-text">Contoh: Terjatuh (不小心跌倒), Terangkat (能举起)</span>
                        </span>
                    </div>
                </div>
                
                <div class="highlight-box">
                    <strong>🔥 Vital Rule: -kan vs -i (Perbezaan Akhiran Kata Kerja)</strong>
                    <ul style="margin:8px 0 0 20px; font-size:0.95em; color: #1e293b;">
                        <li style="margin-bottom: 8px;">
                            <strong>-kan (MeN-...-kan):</strong> Benefaktif. Membawa maksud menggerakkan objek atau melakukan sesuatu untuk seseorang.<br>
                            <em>[EN] Moving an object or doing for someone. [CN] 移动物体或为某人做某事。</em><br>
                            <span class="example-text">👉 Membelikan adik baju (买衣服给弟弟 / Buy clothes for brother).</span>
                        </li>
                        <li>
                            <strong>-i (MeN-...-i):</strong> Lokatif. Membawa maksud arah/tempat atau memberi sesuatu kepada penerima yang tetap.<br>
                            <em>[EN] Location/Direction or giving to a static recipient. [CN] 动作发生地点或给予接受者（接受者不动）。</em><br>
                            <span class="example-text">👉 Menghadiahi ibu (送礼物给母亲 / Gift to mother - Ibu ialah penerima).</span>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="card adj">
                <h3>C. Kata Adjektif Terbitan (Derived Adjectives / 派生形容词)</h3>
                <p style="color: #64748b; margin-bottom: 15px;">Digunakan untuk menerangkan sifat atau keadaan kata nama.</p>
                
                <div class="lang-grid">
                    <div class="lang-row">
                        <span class="lang-label">ter-</span>
                        <span class="lang-text">
                            <strong>Darjah Penghabisan (Superlative / 最高级):</strong><br>
                            <span class="example-text">Contoh: Tercantik (最美/Most beautiful), Terbesar (最大/Biggest).</span><br>
                            <span style="color: var(--danger); font-weight: 600;">⚠️ Trap: "Paling tercantik" adalah SALAH (ter- sudah bermaksud "paling").</span>
                        </span>
                    </div>
                    <div class="lang-row">
                        <span class="lang-label">se-</span>
                        <span class="lang-text">
                            <strong>Darjah Bandingan (Equal Comparison / 同等程度):</strong><br>
                            <span class="example-text">Contoh: Secantik (和...一样美/As beautiful as), Setinggi (和...一样高).</span><br>
                            <span style="color: var(--danger); font-weight: 600;">⚠️ Trap: Jangan letak 'dengan' selepas se-. Terus sambung kata nama. (Cth: Wajahnya secantik bidadari).</span>
                        </span>
                    </div>
                    <div class="lang-row">
                        <span class="lang-label" style="width: auto; margin-right: 10px;">ke-..-an</span>
                        <span class="lang-text">
                            <strong>Sifat/Kesamaan (Possessing trait/Similar / 带有某种性质或相似):</strong><br>
                            <span class="example-text">Contoh: Kemerah-merahan (泛红的/Reddish), Kebaratan (西化的/Westernized).</span>
                        </span>
                    </div>
                </div>
            </div>

            <!-- NEW SECTION: Prefix Variations -->
            <div class="card" style="border-left-color: #8b5cf6;">
                <h3 style="color: #4c1d95;">D. Morfofonemik: Variasi Imbuhan (Prefix Variations)</h3>
                <p style="color: #64748b; margin-bottom: 15px; line-height: 1.5;">
                    <strong>First Principles Logic:</strong> Imbuhan awalan berubah bentuk supaya lebih mudah disebut oleh mulut manusia. Ini dipanggil <em>Keselarasan Bunyi (Phonetic Harmony)</em>.<br>
                    <span style="font-size: 0.9em;">(词缀发生变形是为了符合人类发音的物理便利性，这称为“语音和谐”。)</span>
                </p>
                
                <div class="lang-grid">
                    <!-- 1. The N-Family (meN- & peN-) -->
                    <div class="lang-block" style="background: #f5f3ff; border-color: #ddd6fe;">
                        <div class="lang-title" style="color: #6d28d9;">1. Keluarga meN- / peN- (The N-Family)</div>
                        <div class="lang-text" style="margin-bottom: 10px; font-size: 0.9em;">Berubah mengikut huruf pertama kata dasar (根据原词的首字母变形):</div>

                        <div class="lang-row">
                            <span class="lang-label" style="width: 75px; color: #6d28d9;">me- / pe-</span>
                            <span class="lang-text">Untuk huruf: <strong>l, m, n, ny, ng, r, w, y</strong><br>
                            <span class="example-text">👉 me + lawat = melawat (参观) <br>👉 pe + lari = pelari (跑步者)</span></span>
                        </div>
                        
                        <div class="lang-row">
                            <span class="lang-label" style="width: 75px; color: #6d28d9;">mem- / pem-</span>
                            <span class="lang-text">Untuk huruf: <strong>b, f, v</strong> (dan <strong>p</strong> yang luluh/脱落)<br>
                            <span class="example-text">👉 mem + baca = membaca (阅读) <br>👉 pem + baca = pembaca (读者)<br>👉 mem + <span style="text-decoration: line-through; color: #ef4444;">p</span>ukul = memukul (打)</span></span>
                        </div>

                        <div class="lang-row">
                            <span class="lang-label" style="width: 75px; color: #6d28d9;">men- / pen-</span>
                            <span class="lang-text">Untuk huruf: <strong>c, d, j, z, sy</strong> (dan <strong>t</strong> yang luluh/脱落)<br>
                            <span class="example-text">👉 men + dengar = mendengar (听) <br>👉 pen + dengar = pendengar (听众)<br>👉 pen + <span style="text-decoration: line-through; color: #ef4444;">t</span>ulis = penulis (作者)</span></span>
                        </div>

                        <div class="lang-row">
                            <span class="lang-label" style="width: 75px; color: #6d28d9;">meng- / peng-</span>
                            <span class="lang-text">Untuk Vokal: <strong>a, e, i, o, u</strong> & Konsonan <strong>g, h, kh</strong> (dan <strong>k</strong> yang luluh/脱落)<br>
                            <span class="example-text">👉 meng + ambil = mengambil (拿) <br>👉 peng + ambil = pengambil (拿取者)<br>👉 meng + <span style="text-decoration: line-through; color: #ef4444;">k</span>arang = mengarang (写作)</span></span>
                        </div>

                        <div class="lang-row">
                            <span class="lang-label" style="width: 75px; color: #6d28d9;">menge-/ penge-</span>
                            <span class="lang-text">Untuk perkataan <strong>1 Suku Kata (单音节词/1 Syllable)</strong><br>
                            <span class="example-text">👉 menge + cat = mengecat (涂漆) <br>👉 penge + bom = pengebom (轰炸机/投弹手)</span></span>
                        </div>
                    </div>

                    <!-- 2. The R-Family (ber- & ter-) -->
                    <div class="lang-block" style="background: #f0fdfa; border-color: #bbf7d0;">
                        <div class="lang-title" style="color: #047857;">2. Keluarga ber- / ter- (The R-Family)</div>
                        <div class="lang-text" style="margin-bottom: 10px; font-size: 0.9em;">Huruf 'r' akan digugurkan jika bertembung (如果碰到 'r'，词缀的 'r' 会合并/消失):</div>

                        <div class="lang-row">
                            <span class="lang-label" style="width: 75px; color: #047857;">ber- / ter-</span>
                            <span class="lang-text">Bentuk asal (Default form)<br>
                            <span class="example-text">👉 ber + main = bermain (玩耍)<br>👉 ter + jatuh = terjatuh (不小心跌倒)</span></span>
                        </div>

                        <div class="lang-row">
                            <span class="lang-label" style="width: 75px; color: #047857;">be- / te-</span>
                            <span class="lang-text">Bila kata dasar bermula dengan huruf <strong>'r'</strong><br>
                            <span class="example-text">👉 be + rasa = berasa (感觉 - 'r'合并)<br>👉 te + rasa = terasa (感觉到)</span></span>
                        </div>
                    </div>

                    <!-- 3. Fixed Prefixes (se- & ke-) -->
                    <div class="lang-block" style="background: #fffbeb; border-color: #fde68a;">
                        <div class="lang-title" style="color: #b45309;">3. Imbuhan Tetap (Fixed Prefixes)</div>
                        <div class="lang-text" style="margin-bottom: 10px; font-size: 0.9em;">Tidak berubah bentuk (不会发生变形):</div>

                        <div class="lang-row">
                            <span class="lang-label" style="width: 75px; color: #b45309;">se-</span>
                            <span class="lang-text">Membawa maksud 'satu' (一) atau 'sama' (相同)<br>
                            <span class="example-text">👉 se + orang = seorang (一个人)<br>👉 se + cantik = secantik (和...一样美)</span></span>
                        </div>

                        <div class="lang-row">
                            <span class="lang-label" style="width: 75px; color: #b45309;">ke-</span>
                            <span class="lang-text">Digunakan untuk bilangan (数字) atau ketua (领袖)<br>
                            <span class="example-text">👉 ke + dua = kedua (第二)<br>👉 ke + tua = ketua (领袖/主席)</span></span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card trap">
                <h3 style="color: var(--danger);">⚠️ Kesalahan Lazim (Exam Traps / 常见错误)</h3>
                <p style="color: #991b1b; margin-bottom: 15px; font-weight: 600;">Rules to prevent point-loss in SPM exams.</p>
                
                <div class="lang-grid">
                    <div class="lang-block" style="background: white; border-color: #fca5a5;">
                        <div class="lang-title" style="color: var(--danger);">1. Hukum Imbuhan memper-...</div>
                        <div class="lang-text">
                            Apabila 'memper-' digabung dengan <strong>KATA ADJEKTIF</strong>, <u>jangan letak '-kan'</u>.<br>
                            <em>[EN] When 'memper-' attaches to an ADJECTIVE, do NOT add '-kan'.<br>[CN] 当 memper- 接形容词时，绝对不能加后缀 -kan。</em><br><br>
                            ❌ Salah: <span style="text-decoration: line-through;">memperdalamkan, memperbesarkan, mempercantikkan</span><br>
                            ✅ Betul: <span class="example-text">memperdalam (加深), memperbesar (加大), mempercantik (美化)</span><br><br>
                            <span style="font-size: 0.9em; color: #64748b;">*Pengecualian (Exception): Jika kata dasar ialah Kata Nama/Kerja, boleh tambah -kan. (Cth: <strong>memperjuangkan</strong> - 争取).</span>
                        </div>
                    </div>
                    
                    <div class="lang-block" style="background: white; border-color: #fca5a5;">
                        <div class="lang-title" style="color: var(--danger);">2. Hukum P, T, K, S (Luluh / Dropping Rule)</div>
                        <div class="lang-text">
                            Apabila <strong>meN-</strong> bertemu kata dasar bermula P, T, K, S, huruf pertama digugurkan.<br>
                            <em>[EN] First letter drops. [CN] 首字母通常会脱落。</em><br><br>
                            👉 <strong>p → m:</strong> pukul → <span class="example-text">memukul</span> (Bukan mempukul)<br>
                            👉 <strong>t → n:</strong> tolak → <span class="example-text">menolak</span><br>
                            👉 <strong>k → ng:</strong> karang → <span class="example-text">mengarang</span><br>
                            👉 <strong>s → ny:</strong> sapu → <span class="example-text">menyapu</span><br><br>
                            <span style="font-size: 0.9em; color: #64748b;">*Pengecualian (Exception): Kata pinjaman asing (Cth: mempiercing) atau gugus konsonan (Cth: mentraktir, mengkritik) TIDAK GUGUR.</span>
                        </div>
                    </div>

                    <div class="lang-block" style="background: white; border-color: #fca5a5;">
                        <div class="lang-title" style="color: var(--danger);">3. SPM Tip: Mencari Kata Nama Terbitan Apitan</div>
                        <div class="lang-text">
                            Dalam soalan pemahaman, anda kerap disuruh mencari "Kata Nama Terbitan Apitan". Anda mesti cari perkataan yang ada imbuhan <strong>depan DAN belakang</strong> yang berfungsi sebagai KATA NAMA.<br>
                            <em>[EN] Find a NOUN with both a prefix and a suffix.<br>[CN] 寻找同时有前缀和后缀的名词。</em><br><br>
                            <strong>Taktik:</strong> Cari perkataan bermula <strong>pe- / ke-</strong> dan berakhir <strong>-an</strong>.<br>
                            ✅ Contoh Jawapan Tepat: <span class="example-text">perpaduan, penghasilan, kemajuan</span>
                        </div>
                    </div>
                </div>
            </div>

            <button class="start-btn" onclick="toggleMode()">🔥 Mula Uji Minda (Quiz)</button>
        </div>

        <!-- ==============================================
             QUIZ VIEW 
        =============================================== -->
        <div id="quiz-view" class="section">
            <div class="quiz-container">
                <div class="progress-bar"><div id="progress-fill" class="progress-fill"></div></div>
                
                <div id="game-area">
                    <div class="question-card">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div class="q-number" id="q-number">Question 1 / 30</div>
                            <button id="trans-btn" class="trans-toggle-btn" onclick="toggleTranslation()">🌍 Show Translation</button>
                        </div>
                        <div class="q-text" id="q-text">Loading...</div>
                        <div class="options-list" id="options-list">
                        </div>
                        
                        <div id="feedback" class="feedback-box"></div>
                        
                        <button id="next-btn" class="next-btn" onclick="nextQuestion()">Next Question ➡️</button>
                    </div>
                </div>

                <div id="result-area" style="display:none; text-align:center;">
                    <h2 style="font-size:3em; margin-bottom:10px;">🎉 Selesai!</h2>
                    <p style="font-size:1.5em; color:#64748b;">Markah Akhir Anda:</p>
                    <div style="font-size:4em; font-weight:bold; color:var(--primary); margin:20px 0;" id="final-score">0 / 30</div>
                    <button class="start-btn" onclick="startQuiz()">Cuba Lagi (Restart)</button>
                    <button class="nav-btn" style="background:white; margin-top:20px;" onclick="toggleMode()">Back to Notes</button>
                </div>
            </div>
        </div>

    </div>

    <script>
        // === 30 QUESTIONS DATABASE WITH TRANSLATIONS ===
        // Note: Translation of options are deliberately neutralized to avoid giving away the answer directly.
        const questions = [
            { 
                q: "Perkataan 'telunjuk' ialah contoh bagi...", 
                q_cn: "单词 'telunjuk' 是...的例子",
                options: ["Awalan", "Akhiran", "Sisipan", "Apitan"], 
                options_cn: ["前缀 (Prefix)", "后缀 (Suffix)", "中缀 (Infix)", "环缀 (Circumfix)"],
                ans: 2, note: "Sisipan '-el-' dimasukkan ke dalam kata dasar 'tunjuk'." 
            },
            { 
                q: "Manakah antara berikut ialah kata terbitan awalan?", 
                q_cn: "以下哪项是前缀派生词？",
                options: ["Makanan", "Berlari", "Kesihatan", "Gemilang"], 
                options_cn: ["食物 (名)", "跑 (动)", "健康 (名)", "辉煌 (形)"],
                ans: 1, note: "'Ber-' ialah awalan. 'Lari' ialah kata dasar." 
            },
            { 
                q: "Imbuhan 'peN-' dalam perkataan 'penyapu' membawa maksud...", 
                q_cn: "'penyapu' (扫帚) 中的词缀 'peN-' 意思是...",
                options: ["Orang yang melakukan", "Alat", "Proses", "Tempat"], 
                options_cn: ["执行者", "工具", "过程", "地方"],
                ans: 1, note: "Penyapu ialah ALAT untuk menyapu." 
            },
            { 
                q: "Pilih kata nama terbitan apitan (Circumfix).", 
                q_cn: "选择环缀（前后缀）派生名词。",
                options: ["Pelukis", "Lukisan", "Perlukisan", "Melukis"], 
                options_cn: ["画家", "画作", "绘画的过程", "画画(动词)"],
                ans: 2, note: "Per-...-an ialah apitan. (Pelukis=Awalan, Lukisan=Akhiran)." 
            },
            { 
                q: "'Sasterawan' menggunakan imbuhan pinjaman yang bermaksud...", 
                q_cn: "'Sasterawan' (文学家) 使用的外来词缀意思是...",
                options: ["Ahli/Pakar", "Proses", "Alat", "Sifat"], 
                options_cn: ["专家/学者", "过程", "工具", "性质/特征"],
                ans: 0, note: "-wan merujuk kepada orang yang ahli dalam bidang itu." 
            },
            { 
                q: "Ayat Pasif (Passive) mesti menggunakan imbuhan...", 
                q_cn: "被动句 (Passive) 必须使用词缀...",
                options: ["meN-", "ber-", "di-", "ter-"], 
                options_cn: ["meN- (主动)", "ber- (状态)", "di- (被动)", "ter- (无意)"],
                ans: 2, note: "Contoh: Bola itu DITENDANG oleh Ali." 
            },
            { 
                q: "Pilih ejaan yang betul bagi 'sapu' + meN-.", 
                q_cn: "选择 'sapu' + meN- 的正确拼写规则结果。",
                options: ["Mensapu", "Menyapu", "Memsapu", "Menapu"], 
                options_cn: ["扫 (meN-)", "扫 (meN-)", "扫 (meN-)", "扫 (meN-)"],
                ans: 1, note: "Hukum S: Huruf 's' gugur (luluh) apabila bertemu meN-." 
            },
            { 
                q: "Pilih ejaan yang betul bagi 'pukul' + meN-.", 
                q_cn: "选择 'pukul' + meN- 的正确拼写规则结果。",
                options: ["Mempukul", "Memukul", "Menpukul", "Pemukul"], 
                options_cn: ["打 (meN-)", "打 (meN-)", "打 (meN-)", "打击者"],
                ans: 1, note: "Hukum P: Huruf 'p' gugur menjadi 'm'. (Pukul -> Memukul)." 
            },
            { 
                q: "Ali ________ (tunggu) bas di perhentian.", 
                q_cn: "Ali 在车站 ________ (等待) 巴士。",
                options: ["menunggu", "menunggukan", "ditunggu", "penunggu"], 
                options_cn: ["等待 (主动及物)", "等待 (带 -kan)", "被等待", "守卫"],
                ans: 0, note: "Ayat aktif: Subjek (Ali) melakukan perbuatan." 
            },
            { 
                q: "Murid-murid sedang ________ (baris) di padang.", 
                q_cn: "学生们正在操场上 ________ (排队)。",
                options: ["membaris", "berbaris", "barisan", "dibariskan"], 
                options_cn: ["排列 (及物)", "排队 (不及物/状态)", "队伍 (名词)", "被排列"],
                ans: 1, note: "Berbaris: Melakukan perbuatan (Intransitive)." 
            },
            { 
                q: "Ayah ________ (beli) adik sebuah buku.", 
                q_cn: "父亲 ________ (买) 一本书给弟弟/妹妹。",
                options: ["membelikan", "membeli", "membelii", "berbeli"], 
                options_cn: ["买给 (Benefaktif)", "买 (主动)", "买 (接受者/地点)", "买 (状态)"],
                ans: 0, note: "MembeliKAN: Beli UNTUK seseorang (Benefaktif)." 
            },
            { 
                q: "Sultan ________ (kurnia) pahlawan itu pingat.", 
                q_cn: "苏丹 ________ (赐予) 那位勇士一枚勋章。",
                options: ["mengurniakan", "mengurniai", "kurniaan", "berkurnia"], 
                options_cn: ["赐予 (移动物品)", "赐予 (给予接受者)", "恩赐物 (名词)", "有恩赐 (状态)"],
                ans: 1, note: "MengurniaI: Memberi kepada PENERIMA (Pahlawan)." 
            },
            { 
                q: "Ibu ________ (hias) ruang tamu dengan bunga.", 
                q_cn: "母亲用花 ________ (装饰) 客厅。",
                options: ["menghiasi", "menghias", "berhias", "menghiaskan"], 
                options_cn: ["装饰 (地点为主)", "装饰 (主动)", "打扮 (状态)", "装饰 (物为主)"],
                ans: 0, note: "MenghiasI: Perbuatan berlaku DI sesuatu tempat/objek (Ruang tamu)." 
            },
            { 
                q: "Pilih penggunaan 'memper-' yang BETUL.", 
                q_cn: "选择 'memper-' 的正确语法规则用法。",
                options: ["Memperdalamkan", "Memperluaskan", "Memperkecilkan", "Memperkemas"], 
                options_cn: ["加深", "扩大", "缩小", "整理"],
                ans: 3, note: "Memper + Adjektif TIDAK BOLEH ada -kan. (Kemas ialah adjektif)." 
            },
            { 
                q: "Kerajaan ingin ________ (lebar) jalan raya itu.", 
                q_cn: "政府想要 ________ (拓宽) 那条马路。",
                options: ["memperlebarkan", "memperlebar", "melebari", "berlebar"], 
                options_cn: ["拓宽 (带-kan)", "拓宽 (无-kan)", "拓宽 (带-i)", "有宽度的"],
                ans: 1, note: "Memperlebar (Betul). Memperlebarkan (Salah)." 
            },
            { 
                q: "Pilih ayat yang SALAH.", 
                q_cn: "选择语法错误的句子。",
                options: ["Lukisan ini cantik.", "Lukisan ini tercantik.", "Lukisan ini paling cantik.", "Lukisan ini paling tercantik."], 
                options_cn: ["这幅画很美。", "这幅画最美 (ter-)。", "这幅画最美 (paling)。", "这幅画最最美 (paling ter-)。"],
                ans: 3, note: "'Paling' dan 'Ter-' dua-dua maksud 'Most'. Tak boleh guna sekali." 
            },
            { 
                q: "Adik menangis kerana ________ (jatuh) longkang.", 
                q_cn: "弟弟/妹妹哭是因为 ________ (跌) 进沟渠。",
                options: ["menjatuhkan", "terjatuh", "dijatuh", "berjatuh"], 
                options_cn: ["弄跌", "不小心跌倒", "被跌", "跌 (状态)"],
                ans: 1, note: "Ter- di sini bermaksud 'Tidak Sengaja' (Accidental)." 
            },
            { 
                q: "Berat beg itu tidak ________ (angkat) oleh saya.", 
                q_cn: "这么重的包我 ________ (提) 不起。",
                options: ["terangkat", "mengangkat", "diangkat", "berangkat"], 
                options_cn: ["能举起 (Keupayaan)", "举起 (主动)", "被举起", "启程 (状态)"],
                ans: 0, note: "Ter- di sini bermaksud 'Keupayaan' (Ability - able to lift)." 
            },
            { 
                q: "Mereka membincangkan ________ (sihat) murid-murid.", 
                q_cn: "他们讨论学生们的 ________ (健康)。",
                options: ["penyihatan", "kesihatan", "berkesihatan", "menyihatkan"], 
                options_cn: ["使健康的过程", "健康 (名词)", "拥有健康", "使健康"],
                ans: 1, note: "Kesihatan (Health) ialah Kata Nama (Konsep)." 
            },
            { 
                q: "Rombongan itu sudah tiba di ________ (duduk) pengantin.", 
                q_cn: "迎亲队伍已经到达新人的 ________ (座位)。",
                options: ["pendudukan", "kedudukan", "menduduki", "terduduk"], 
                options_cn: ["占领过程", "位置/座位", "参加/占据", "跌坐"],
                ans: 1, note: "Kedudukan: Tempat (Position/Place)." 
            },
            { 
                q: "Pilih kata terbitan yang bermaksud 'saling membantu'.", 
                q_cn: "选择意思是“互相帮助”的派生词。",
                options: ["Membantu", "Bantuan", "Bantu-membantu", "Terbantu"], 
                options_cn: ["帮助", "援助 (名词)", "互相帮助", "被帮助 (无意)"],
                ans: 2, note: "Kata Ganda + Imbuhan (Bantu-membantu) bermaksud perbuatan timbal balik (reciprocal)." 
            },
            { 
                q: "Asap tebal itu ________ (pedih) mata saya.", 
                q_cn: "浓烟 ________ (刺痛) 我的眼睛。",
                options: ["mempedihkan", "memedihkan", "berpedih", "kepedihan"], 
                options_cn: ["刺痛 (未脱落P)", "刺痛 (脱落P)", "感到刺痛", "刺痛感"],
                ans: 1, note: "Hukum P: 'P' gugur. Pedih -> Memedihkan." 
            },
            { 
                q: "Dia berasa ________ (asing) di negara orang.", 
                q_cn: "他在异国他乡感到 ________ (孤单/格格不入)。",
                options: ["terasing", "pengasingan", "mengasingkan", "berasing"], 
                options_cn: ["被孤立/格格不入", "隔离 (名词)", "使隔离", "分开"],
                ans: 0, note: "Terasing: Berasa dalam keadaan asing (Isolated/Alienated)." 
            },
            { 
                q: "Jangan suka ________ (buruk) orang lain.", 
                q_cn: "不要喜欢 ________ (说坏话/诽谤) 别人。",
                options: ["memburuk", "memburukkan", "keburukan", "berburuk"], 
                options_cn: ["变坏", "说坏话/诽谤", "坏处 (名词)", "心怀不轨"],
                ans: 1, note: "MemburukKAN: Menjadikan sesuatu buruk (perbuatan transitif)." 
            },
            { 
                q: "Baginda ________ (angkat) sebagai Raja sehari.", 
                q_cn: "陛下被 ________ (推举) 为一日国王。",
                options: ["mengangkat", "terangkat", "diangkat", "berangkat"], 
                options_cn: ["举起", "能举起/不小心", "被推举", "启程"],
                ans: 2, note: "Diangkat (Passive): Was appointed/crowned." 
            },
            { 
                q: "Polis sedang ________ (siasat) kes itu.", 
                q_cn: "警察正在 ________ (调查) 该案件。",
                options: ["menyiasat", "mensiasat", "bersiasat", "tersiasat"], 
                options_cn: ["调查 (脱落S)", "调查 (未脱落S)", "有调查", "被调查 (无意)"],
                ans: 0, note: "Hukum S: Siasat -> Menyiasat." 
            },
            { 
                q: "Kita mesti ________ (tepati) masa.", 
                q_cn: "我们必须 ________ (守时)。",
                options: ["menepati", "mentepati", "bertepat", "ketepatan"], 
                options_cn: ["遵守 (脱落T)", "遵守 (未脱落T)", "正好", "准确性"],
                ans: 0, note: "Hukum T: Tepat -> Menepati." 
            },
            { 
                q: "Setiap warganegara mesti ________ (taat) kepada raja.", 
                q_cn: "每个公民都必须 ________ (效忠) 国王。",
                options: ["mentaati", "menataati", "bertaat", "ketaatan"], 
                options_cn: ["效忠 (未脱落T - 异常)", "效忠 (脱落T)", "有效忠", "忠诚度"],
                ans: 0, note: "Hukum T: Taat -> Mentaati (Pengecualian khusus kata Arab)." 
            },
            { 
                q: "Projek itu memberi ________ (untung) yang besar.", 
                q_cn: "该项目带来了巨大的 ________ (利润)。",
                options: ["beruntung", "keuntungan", "menguntungkan", "teruntung"], 
                options_cn: ["幸运", "利润", "带来利润", "最幸运"],
                ans: 1, note: "Memberi [Kata Nama]. Keuntungan = Profit (Noun)." 
            },
            { 
                q: "Ali ________ (tonton) televisyen sambil makan.", 
                q_cn: "Ali 边吃边 ________ (看) 电视。",
                options: ["menonton", "mentonton", "pertonton", "ditonton"], 
                options_cn: ["观看 (脱落T)", "观看 (未脱落T)", "展览", "被观看"],
                ans: 0, note: "Hukum T: Tonton -> Menonton." 
            }
        ];

        let currentQIndex = 0;
        let score = 0;
        let isAnswered = false;
        let isTransVisible = false;

        function toggleMode() {
            const notes = document.getElementById('notes-view');
            const quiz = document.getElementById('quiz-view');
            
            if (notes.classList.contains('active')) {
                notes.classList.remove('active');
                quiz.classList.add('active');
                if(currentQIndex === 0 && !isAnswered) startQuiz();
            } else {
                quiz.classList.remove('active');
                notes.classList.add('active');
            }
        }

        function toggleTranslation() {
            isTransVisible = !isTransVisible;
            const gameArea = document.getElementById('game-area');
            const transBtn = document.getElementById('trans-btn');
            
            if (isTransVisible) {
                gameArea.classList.add('show-trans');
                transBtn.classList.add('active');
                transBtn.innerText = '🌍 Hide Translation';
            } else {
                gameArea.classList.remove('show-trans');
                transBtn.classList.remove('active');
                transBtn.innerText = '🌍 Show Translation';
            }
        }

        function startQuiz() {
            document.getElementById('result-area').style.display = 'none';
            document.getElementById('game-area').style.display = 'block';
            currentQIndex = 0;
            score = 0;
            loadQuestion(0);
        }

        function loadQuestion(index) {
            isAnswered = false;
            const q = questions[index];
            
            document.getElementById('q-number').innerText = `Question ${index + 1} / ${questions.length}`;
            
            // Render Question with hidden translation layer
            document.getElementById('q-text').innerHTML = `
                ${q.q}
                <div class="trans-layer">${q.q_cn}</div>
            `;

            document.getElementById('feedback').style.display = 'none';
            document.getElementById('next-btn').style.display = 'none';
            
            const percent = ((index) / questions.length) * 100;
            document.getElementById('progress-fill').style.width = `${percent}%`;

            const list = document.getElementById('options-list');
            list.innerHTML = '';
            
            q.options.forEach((opt, i) => {
                const btn = document.createElement('button');
                btn.className = 'option-btn';
                
                // Extract translation option safely
                const optTrans = q.options_cn && q.options_cn[i] ? q.options_cn[i] : "";
                
                // Build button interior
                btn.innerHTML = `
                    <div style="font-size: 1.05em;">${opt}</div>
                    <div class="trans-layer">${optTrans}</div>
                `;

                btn.onclick = () => checkAnswer(i, btn);
                list.appendChild(btn);
            });
        }

        function checkAnswer(selectedIndex, btn) {
            if (isAnswered) return;
            isAnswered = true;
            
            const q = questions[currentQIndex];
            const feedback = document.getElementById('feedback');
            const allBtns = document.querySelectorAll('.option-btn');
            
            allBtns.forEach(b => b.disabled = true);

            if (selectedIndex === q.ans) {
                score++;
                btn.classList.add('correct');
                feedback.className = 'feedback-box correct';
                feedback.innerHTML = `<strong>✅ Betul!</strong><br>${q.note}`;
            } else {
                btn.classList.add('wrong');
                allBtns[q.ans].classList.add('correct');
                feedback.className = 'feedback-box wrong';
                feedback.innerHTML = `<strong>❌ Salah.</strong> Jawapan: ${q.options[q.ans]}<br>${q.note}`;
            }

            feedback.style.display = 'block';
            document.getElementById('next-btn').style.display = 'inline-block';
        }

        function nextQuestion() {
            currentQIndex++;
            if (currentQIndex < questions.length) {
                loadQuestion(currentQIndex);
            } else {
                showResult();
            }
        }

        function showResult() {
            document.getElementById('game-area').style.display = 'none';
            document.getElementById('result-area').style.display = 'block';
            document.getElementById('final-score').innerText = `${score} / ${questions.length}`;
            document.getElementById('progress-fill').style.width = '100%';
        }
    </script>
</body>
</html>