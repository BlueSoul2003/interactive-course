<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Masterclass Kata Terbitan (Trilingual)</title>
    <style>
        :root {
            --primary: #4f46e5;
            --success: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
            --bg: #f8fafc;
            --card: #ffffff;
        }
        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background-color: var(--bg);
            color: #1e293b;
            margin: 0;
            padding: 0;
            line-height: 1.6;
        }
        .container { max-width: 900px; margin: 0 auto; padding: 20px; }
        
        /* Navbar */
        .navbar {
            display: flex; justify-content: space-between; align-items: center;
            padding: 15px 30px; background: white; box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            position: sticky; top: 0; z-index: 100;
        }
        .logo { font-weight: 800; font-size: 1.2em; color: var(--primary); }
        .nav-btn {
            background: #e0e7ff; color: var(--primary); border: none; padding: 8px 16px;
            border-radius: 20px; cursor: pointer; font-weight: 600; font-size: 0.9em;
            transition: background 0.2s;
        }
        .nav-btn:hover { background: #c7d2fe; }

        /* Section Visibility */
        .section { display: none; animation: fadeIn 0.4s ease; }
        .section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Card Styles */
        .card {
            background: var(--card); border-radius: 16px; padding: 30px; margin-bottom: 25px;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); border-left: 6px solid #cbd5e1;
        }
        .card h3 { margin-top: 0; color: #0f172a; display: flex; align-items: center; gap: 10px; font-size: 1.4em; border-bottom: 2px solid #f1f5f9; padding-bottom: 10px;}
        
        /* Language Grid */
        .lang-grid { display: grid; grid-template-columns: 1fr; gap: 12px; margin-top: 15px; }
        .lang-block { background: #f8fafc; padding: 15px 20px; border-radius: 10px; border: 1px solid #e2e8f0; }
        .lang-title { font-weight: 800; color: var(--primary); margin-bottom: 5px; font-size: 1.1em; }
        
        .lang-row { display: flex; gap: 12px; align-items: baseline; margin-top: 8px; border-top: 1px dashed #e2e8f0; padding-top: 8px;}
        .lang-row:first-child { border-top: none; padding-top: 0; margin-top: 0; }
        .lang-label { font-size: 0.8em; font-weight: 900; color: #64748b; width: 30px; flex-shrink: 0; }
        .lang-text { font-size: 0.95em; color: #334155; }
        .example-text { color: #0f172a; font-weight: 600; font-style: italic; }
        
        /* Specific Card Accents */
        .card.noun { border-left-color: var(--primary); }
        .card.verb { border-left-color: var(--success); }
        .card.adj { border-left-color: var(--warning); }
        .card.trap { border-left-color: var(--danger); background: #fff5f5; }

        /* Highlight Boxes */
        .highlight-box {
            margin-top:20px; padding:15px 20px; background:#f0fdf4; 
            border:1px dashed var(--success); border-radius:10px;
        }
        .highlight-box.danger {
            background:#fef2f2; border-color: var(--danger);
        }

        /* Quiz UI */
        .quiz-container { text-align: center; max-width: 600px; margin: 40px auto; }
        .progress-bar { width: 100%; height: 8px; background: #e2e8f0; border-radius: 4px; margin-bottom: 20px; overflow: hidden; }
        .progress-fill { height: 100%; background: var(--primary); width: 0%; transition: width 0.3s ease; }
        
        .question-card {
            background: white; padding: 30px; border-radius: 20px; box-shadow: 0 10px 25px -5px rgba(0,0,0,0.1);
            text-align: left;
        }
        .q-number { text-transform: uppercase; letter-spacing: 1px; color: #64748b; font-size: 0.8em; font-weight: bold; }
        .q-text { font-size: 1.3em; font-weight: 700; color: #1e293b; margin-top: 10px; margin-bottom: 25px; }
        
        .options-list { display: grid; gap: 12px; }
        .option-btn {
            width: 100%; padding: 15px 20px; border: 2px solid #e2e8f0; background: white;
            border-radius: 12px; font-size: 1em; text-align: left; cursor: pointer; transition: 0.2s;
        }
        .option-btn:hover:not([disabled]) { border-color: var(--primary); background: #eef2ff; }
        .option-btn.correct { border-color: var(--success); background: #ecfdf5; color: #065f46; font-weight: bold; }
        .option-btn.wrong { border-color: var(--danger); background: #fef2f2; color: #991b1b; }

        /* Translation Toggle UI */
        .trans-toggle-btn {
            background: #f1f5f9; color: var(--primary); border: 1px solid #cbd5e1;
            padding: 6px 12px; border-radius: 8px; cursor: pointer; font-size: 0.85em; font-weight: bold;
            transition: all 0.2s;
        }
        .trans-toggle-btn:hover { background: #e2e8f0; }
        .trans-toggle-btn.active { background: var(--primary); color: white; border-color: var(--primary); }

        .trans-layer { display: none; color: #6366f1; font-size: 0.85em; margin-top: 6px; font-weight: 500; }
        .option-btn .trans-layer { font-size: 0.85em; opacity: 0.9; margin-top: 4px; color: #4f46e5; font-weight: normal;}
        #game-area.show-trans .trans-layer { display: block; animation: fadeIn 0.3s; }
        
        .feedback-box { margin-top: 20px; padding: 15px; border-radius: 10px; display: none; text-align: left; animation: fadeIn 0.3s; }
        .feedback-box.correct { background: #d1fae5; color: #065f46; border: 1px solid #34d399; }
        .feedback-box.wrong { background: #fee2e2; color: #991b1b; border: 1px solid #f87171; }

        .next-btn {
            background: var(--primary); color: white; border: none; padding: 15px 40px;
            font-size: 1.1em; border-radius: 50px; cursor: pointer; margin-top: 25px; display: none; box-shadow: 0 4px 15px rgba(79, 70, 229, 0.4);
        }
        .start-btn {
            background: linear-gradient(135deg, #4f46e5 0%, #3b82f6 100%);
            color: white; border: none; padding: 20px 50px; font-size: 1.5em; font-weight: bold;
            border-radius: 50px; cursor: pointer; margin: 40px auto; display: block; box-shadow: 0 10px 30px rgba(37, 99, 235, 0.3); transition: transform 0.2s;
        }
        .start-btn:hover { transform: scale(1.05); }

    </style>
</head>
<body>

    <div class="navbar">
        <div class="logo">ğŸ“š Morfologi Master</div>
        <button class="nav-btn" onclick="toggleMode()">Switch: Notes / Quiz</button>
    </div>

    <div class="container">
        
        <!-- ==============================================
             NOTES VIEW 
        =============================================== -->
        <div id="notes-view" class="section active">
            <header style="text-align:center; margin-bottom:40px;">
                <h1 style="font-size: 2.8em; margin-bottom: 10px; color: var(--primary); letter-spacing: -1px;">Kata Terbitan</h1>
                <p style="color:#64748b; font-weight: 600;">Definitive Guide: Form, Class & Execution</p>
            </header>

            <div class="card">
                <h3>ğŸ” Definisi (Definition)</h3>
                <div class="lang-grid">
                    <div class="lang-row"><span class="lang-label">BM</span><span class="lang-text">Perkataan yang terbentuk dengan menambah imbuhan pada kata dasar. Proses ini bukan sahaja mengubah makna, malah boleh mengubah golongan kata (cth: Kata Kerja berubah menjadi Kata Nama).</span></div>
                    <div class="lang-row"><span class="lang-label">CN</span><span class="lang-text">æŒ‡é€šè¿‡åœ¨åŸè¯ (Kata Dasar) ä¸Šæ·»åŠ è¯ç¼€ (Imbuhan) è€Œå½¢æˆçš„è¯æ±‡ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸ä»…èƒ½æ”¹å˜è¯ä¹‰ï¼Œè¿˜èƒ½æ”¹å˜è¯æ€§ï¼ˆä¾‹å¦‚ä»åŠ¨è¯å˜ä¸ºåè¯ï¼‰ã€‚</span></div>
                    <div class="lang-row"><span class="lang-label">EN</span><span class="lang-text">Words formed by adding affixes to a root word. This process not only changes the meaning but can also change the word class (e.g., from a Verb to a Noun).</span></div>
                </div>
            </div>

            <div class="card">
                <h3>ğŸ§© 1. Kedudukan Imbuhan (4 Forms of Affixes)</h3>
                <p style="color: #64748b; margin-bottom: 15px;">Kedudukan imbuhan menentukan struktur kata terbitan (Affix position determines the structure).</p>
                <div class="lang-grid">
                    <div class="lang-block">
                        <div class="lang-title">1. Awalan (Prefix / å‰ç¼€)</div>
                        <div class="lang-text">Ditambah di hadapan kata dasar. (Added to the front / åŠ åœ¨åŸè¯çš„å‰é¢)</div>
                        <div class="example-text mt-2">Contoh: berlari (è·‘/run), pelakon (æ¼”å‘˜/actor), terbesar (æœ€å¤§/biggest)</div>
                    </div>
                    <div class="lang-block">
                        <div class="lang-title">2. Akhiran (Suffix / åç¼€)</div>
                        <div class="lang-text">Ditambah di belakang kata dasar. (Added to the back / åŠ åœ¨åŸè¯çš„åé¢)</div>
                        <div class="example-text mt-2">Contoh: makanan (é£Ÿç‰©/food), ambilkan (æ‹¿ç»™/take for), sasterawan (æ–‡å­¦å®¶/literary figure)</div>
                    </div>
                    <div class="lang-block">
                        <div class="lang-title">3. Apitan (Circumfix / ç¯ç¼€/å‰åç¼€)</div>
                        <div class="lang-text">Ditambah serentak di hadapan dan belakang. (Added to both front and back / åŒæ—¶åŠ åœ¨åŸè¯çš„å‰å)</div>
                        <div class="example-text mt-2">Contoh: pelaksanaan (æ‰§è¡Œ/implementation), menjalani (ç»å†/undergo), kebaratan (è¥¿åŒ–/westernized)</div>
                    </div>
                    <div class="lang-block">
                        <div class="lang-title">4. Sisipan (Infix / ä¸­ç¼€)</div>
                        <div class="lang-text">Disisip di tengah kata dasar (Jarang). (Inserted in the middle - Rare / æ’å…¥åŸè¯çš„ä¸­é—´ - è¾ƒå°‘è§)</div>
                        <div class="example-text mt-2">Contoh: telunjuk (é£ŸæŒ‡/index finger - dari kata 'tunjuk'), gemilang (è¾‰ç…Œ/glorious - dari kata 'gilang')</div>
                    </div>
                </div>
            </div>

            <div class="card noun">
                <h3>A. Kata Nama Terbitan (Derived Nouns / æ´¾ç”Ÿåè¯)</h3>
                <p style="color: #64748b; margin-bottom: 15px;">Merujuk kepada manusia, benda, proses atau konsep (Refers to people, things, processes, or concepts).</p>
                
                <div class="lang-grid">
                    <div class="lang-row">
                        <span class="lang-label">peN-</span>
                        <span class="lang-text">
                            <strong>Pelaku/Alat (Doer/Tool / æ‰§è¡Œè€…æˆ–å·¥å…·):</strong> (pe-, pem-, pen-, peng-, penge-)<br>
                            <span class="example-text">Contoh: Pelari (è·‘æ­¥è€…), Penyapu (æ‰«å¸š), Pengurus (ç»ç†)</span>
                        </span>
                    </div>
                    <div class="lang-row">
                        <span class="lang-label" style="width: auto; margin-right: 10px;">peN-..-an</span>
                        <span class="lang-text">
                            <strong>Proses/Perbuatan (Process/Act / è¿‡ç¨‹æˆ–è¡Œä¸º):</strong><br>
                            <span class="example-text">Contoh: Pembinaan (å»ºè®¾è¿‡ç¨‹), Pendaratan (ç™»é™†)</span>
                        </span>
                    </div>
                    <div class="lang-row">
                        <span class="lang-label" style="width: auto; margin-right: 10px;">ke-..-an</span>
                        <span class="lang-text">
                            <strong>Abstrak/Status/Tempat (Abstract/State/Place / æŠ½è±¡æ¦‚å¿µã€çŠ¶æ€æˆ–åœ°æ–¹):</strong><br>
                            <span class="example-text">Contoh: Kesihatan (å¥åº·), Kementerian (éƒ¨é—¨/éƒ¨), Kedatangan (åˆ°æ¥)</span>
                        </span>
                    </div>
                    <div class="lang-row">
                        <span class="lang-label">-an</span>
                        <span class="lang-text">
                            <strong>Hasil/Himpunan (Result/Collection / ç»“æœæˆ–é›†åˆ):</strong><br>
                            <span class="example-text">Contoh: Makanan (é£Ÿç‰©/åƒçš„ä¸œè¥¿), Lukisan (ç”»ä½œ), Lautan (æµ·æ´‹)</span>
                        </span>
                    </div>
                    <div class="lang-row">
                        <span class="lang-label" style="width: auto; margin-right: 10px;">Pinjaman</span>
                        <span class="lang-text">
                            <strong>Imbuhan Luar (Loan affixes / å¤–æ¥è¯ç¼€):</strong> -wan, -man, -wati, juru-, pra-<br>
                            <span class="example-text">Contoh: Seniman (è‰ºæœ¯å®¶), Jurutera (å·¥ç¨‹å¸ˆ), Prasejarah (å²å‰)</span>
                        </span>
                    </div>
                </div>
            </div>

            <div class="card verb">
                <h3>B. Kata Kerja Terbitan (Derived Verbs / æ´¾ç”ŸåŠ¨è¯)</h3>
                <p style="color: #64748b; margin-bottom: 15px;">Paling kompleks; merangkumi aktif, pasif, transitif & tak transitif.</p>
                
                <div class="lang-grid">
                    <div class="lang-row">
                        <span class="lang-label">meN-</span>
                        <span class="lang-text">
                            <strong>Aktif (Active Verb / ä¸»åŠ¨åŠ¨è¯):</strong> (me-, mem-, men-, meng-, menge-)<br>
                            <span class="example-text">Contoh: Membaca (è¯»), Menulis (å†™), Menggali (æŒ–æ˜)</span>
                        </span>
                    </div>
                    <div class="lang-row">
                        <span class="lang-label">ber-</span>
                        <span class="lang-text">
                            <strong>Tak Transitif/Keadaan (Intransitive/State / ä¸åŠç‰©æˆ–çŠ¶æ€):</strong><br>
                            <span class="example-text">Contoh: Berjalan (èµ°), Berkereta (æœ‰è½¦/ä¹˜è½¦), Belajar (å­¦ä¹ )</span>
                        </span>
                    </div>
                    <div class="lang-row">
                        <span class="lang-label">di-</span>
                        <span class="lang-text">
                            <strong>Pasif Diri Ke-3 (Passive 3rd Person / ç¬¬ä¸‰äººç§°è¢«åŠ¨åŠ¨è¯):</strong><br>
                            <span class="example-text">Contoh: Dimakan (è¢«åƒ), Diambil (è¢«æ‹¿)</span>
                        </span>
                    </div>
                    <div class="lang-row">
                        <span class="lang-label">ter-</span>
                        <span class="lang-text">
                            <strong>Tak Sengaja/Keupayaan/Selesai (Accidental/Ability/Completed / æ— æ„ã€èƒ½åŠ›æˆ–å®Œæˆ):</strong><br>
                            <span class="example-text">Contoh: Terjatuh (ä¸å°å¿ƒè·Œå€’), Terangkat (èƒ½ä¸¾èµ·)</span>
                        </span>
                    </div>
                </div>
                
                <div class="highlight-box">
                    <strong>ğŸ”¥ Vital Rule: -kan vs -i (Perbezaan Akhiran Kata Kerja)</strong>
                    <ul style="margin:8px 0 0 20px; font-size:0.95em; color: #1e293b;">
                        <li style="margin-bottom: 8px;">
                            <strong>-kan (MeN-...-kan):</strong> Benefaktif. Membawa maksud menggerakkan objek atau melakukan sesuatu untuk seseorang.<br>
                            <em>[EN] Moving an object or doing for someone. [CN] ç§»åŠ¨ç‰©ä½“æˆ–ä¸ºæŸäººåšæŸäº‹ã€‚</em><br>
                            <span class="example-text">ğŸ‘‰ Membelikan adik baju (ä¹°è¡£æœç»™å¼Ÿå¼Ÿ / Buy clothes for brother).</span>
                        </li>
                        <li>
                            <strong>-i (MeN-...-i):</strong> Lokatif. Membawa maksud arah/tempat atau memberi sesuatu kepada penerima yang tetap.<br>
                            <em>[EN] Location/Direction or giving to a static recipient. [CN] åŠ¨ä½œå‘ç”Ÿåœ°ç‚¹æˆ–ç»™äºˆæ¥å—è€…ï¼ˆæ¥å—è€…ä¸åŠ¨ï¼‰ã€‚</em><br>
                            <span class="example-text">ğŸ‘‰ Menghadiahi ibu (é€ç¤¼ç‰©ç»™æ¯äº² / Gift to mother - Ibu ialah penerima).</span>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="card adj">
                <h3>C. Kata Adjektif Terbitan (Derived Adjectives / æ´¾ç”Ÿå½¢å®¹è¯)</h3>
                <p style="color: #64748b; margin-bottom: 15px;">Digunakan untuk menerangkan sifat atau keadaan kata nama.</p>
                
                <div class="lang-grid">
                    <div class="lang-row">
                        <span class="lang-label">ter-</span>
                        <span class="lang-text">
                            <strong>Darjah Penghabisan (Superlative / æœ€é«˜çº§):</strong><br>
                            <span class="example-text">Contoh: Tercantik (æœ€ç¾/Most beautiful), Terbesar (æœ€å¤§/Biggest).</span><br>
                            <span style="color: var(--danger); font-weight: 600;">âš ï¸ Trap: "Paling tercantik" adalah SALAH (ter- sudah bermaksud "paling").</span>
                        </span>
                    </div>
                    <div class="lang-row">
                        <span class="lang-label">se-</span>
                        <span class="lang-text">
                            <strong>Darjah Bandingan (Equal Comparison / åŒç­‰ç¨‹åº¦):</strong><br>
                            <span class="example-text">Contoh: Secantik (å’Œ...ä¸€æ ·ç¾/As beautiful as), Setinggi (å’Œ...ä¸€æ ·é«˜).</span><br>
                            <span style="color: var(--danger); font-weight: 600;">âš ï¸ Trap: Jangan letak 'dengan' selepas se-. Terus sambung kata nama. (Cth: Wajahnya secantik bidadari).</span>
                        </span>
                    </div>
                    <div class="lang-row">
                        <span class="lang-label" style="width: auto; margin-right: 10px;">ke-..-an</span>
                        <span class="lang-text">
                            <strong>Sifat/Kesamaan (Possessing trait/Similar / å¸¦æœ‰æŸç§æ€§è´¨æˆ–ç›¸ä¼¼):</strong><br>
                            <span class="example-text">Contoh: Kemerah-merahan (æ³›çº¢çš„/Reddish), Kebaratan (è¥¿åŒ–çš„/Westernized).</span>
                        </span>
                    </div>
                </div>
            </div>

            <!-- NEW SECTION: Prefix Variations -->
            <div class="card" style="border-left-color: #8b5cf6;">
                <h3 style="color: #4c1d95;">D. Morfofonemik: Variasi Imbuhan (Prefix Variations)</h3>
                <p style="color: #64748b; margin-bottom: 15px; line-height: 1.5;">
                    <strong>First Principles Logic:</strong> Imbuhan awalan berubah bentuk supaya lebih mudah disebut oleh mulut manusia. Ini dipanggil <em>Keselarasan Bunyi (Phonetic Harmony)</em>.<br>
                    <span style="font-size: 0.9em;">(è¯ç¼€å‘ç”Ÿå˜å½¢æ˜¯ä¸ºäº†ç¬¦åˆäººç±»å‘éŸ³çš„ç‰©ç†ä¾¿åˆ©æ€§ï¼Œè¿™ç§°ä¸ºâ€œè¯­éŸ³å’Œè°â€ã€‚)</span>
                </p>
                
                <div class="lang-grid">
                    <!-- 1. The N-Family (meN- & peN-) -->
                    <div class="lang-block" style="background: #f5f3ff; border-color: #ddd6fe;">
                        <div class="lang-title" style="color: #6d28d9;">1. Keluarga meN- / peN- (The N-Family)</div>
                        <div class="lang-text" style="margin-bottom: 10px; font-size: 0.9em;">Berubah mengikut huruf pertama kata dasar (æ ¹æ®åŸè¯çš„é¦–å­—æ¯å˜å½¢):</div>

                        <div class="lang-row">
                            <span class="lang-label" style="width: 75px; color: #6d28d9;">me- / pe-</span>
                            <span class="lang-text">Untuk huruf: <strong>l, m, n, ny, ng, r, w, y</strong><br>
                            <span class="example-text">ğŸ‘‰ me + lawat = melawat (å‚è§‚) <br>ğŸ‘‰ pe + lari = pelari (è·‘æ­¥è€…)</span></span>
                        </div>
                        
                        <div class="lang-row">
                            <span class="lang-label" style="width: 75px; color: #6d28d9;">mem- / pem-</span>
                            <span class="lang-text">Untuk huruf: <strong>b, f, v</strong> (dan <strong>p</strong> yang luluh/è„±è½)<br>
                            <span class="example-text">ğŸ‘‰ mem + baca = membaca (é˜…è¯») <br>ğŸ‘‰ pem + baca = pembaca (è¯»è€…)<br>ğŸ‘‰ mem + <span style="text-decoration: line-through; color: #ef4444;">p</span>ukul = memukul (æ‰“)</span></span>
                        </div>

                        <div class="lang-row">
                            <span class="lang-label" style="width: 75px; color: #6d28d9;">men- / pen-</span>
                            <span class="lang-text">Untuk huruf: <strong>c, d, j, z, sy</strong> (dan <strong>t</strong> yang luluh/è„±è½)<br>
                            <span class="example-text">ğŸ‘‰ men + dengar = mendengar (å¬) <br>ğŸ‘‰ pen + dengar = pendengar (å¬ä¼—)<br>ğŸ‘‰ pen + <span style="text-decoration: line-through; color: #ef4444;">t</span>ulis = penulis (ä½œè€…)</span></span>
                        </div>

                        <div class="lang-row">
                            <span class="lang-label" style="width: 75px; color: #6d28d9;">meng- / peng-</span>
                            <span class="lang-text">Untuk Vokal: <strong>a, e, i, o, u</strong> & Konsonan <strong>g, h, kh</strong> (dan <strong>k</strong> yang luluh/è„±è½)<br>
                            <span class="example-text">ğŸ‘‰ meng + ambil = mengambil (æ‹¿) <br>ğŸ‘‰ peng + ambil = pengambil (æ‹¿å–è€…)<br>ğŸ‘‰ meng + <span style="text-decoration: line-through; color: #ef4444;">k</span>arang = mengarang (å†™ä½œ)</span></span>
                        </div>

                        <div class="lang-row">
                            <span class="lang-label" style="width: 75px; color: #6d28d9;">menge-/ penge-</span>
                            <span class="lang-text">Untuk perkataan <strong>1 Suku Kata (å•éŸ³èŠ‚è¯/1 Syllable)</strong><br>
                            <span class="example-text">ğŸ‘‰ menge + cat = mengecat (æ¶‚æ¼†) <br>ğŸ‘‰ penge + bom = pengebom (è½°ç‚¸æœº/æŠ•å¼¹æ‰‹)</span></span>
                        </div>
                    </div>

                    <!-- 2. The R-Family (ber- & ter-) -->
                    <div class="lang-block" style="background: #f0fdfa; border-color: #bbf7d0;">
                        <div class="lang-title" style="color: #047857;">2. Keluarga ber- / ter- (The R-Family)</div>
                        <div class="lang-text" style="margin-bottom: 10px; font-size: 0.9em;">Huruf 'r' akan digugurkan jika bertembung (å¦‚æœç¢°åˆ° 'r'ï¼Œè¯ç¼€çš„ 'r' ä¼šåˆå¹¶/æ¶ˆå¤±):</div>

                        <div class="lang-row">
                            <span class="lang-label" style="width: 75px; color: #047857;">ber- / ter-</span>
                            <span class="lang-text">Bentuk asal (Default form)<br>
                            <span class="example-text">ğŸ‘‰ ber + main = bermain (ç©è€)<br>ğŸ‘‰ ter + jatuh = terjatuh (ä¸å°å¿ƒè·Œå€’)</span></span>
                        </div>

                        <div class="lang-row">
                            <span class="lang-label" style="width: 75px; color: #047857;">be- / te-</span>
                            <span class="lang-text">Bila kata dasar bermula dengan huruf <strong>'r'</strong><br>
                            <span class="example-text">ğŸ‘‰ be + rasa = berasa (æ„Ÿè§‰ - 'r'åˆå¹¶)<br>ğŸ‘‰ te + rasa = terasa (æ„Ÿè§‰åˆ°)</span></span>
                        </div>
                    </div>

                    <!-- 3. Fixed Prefixes (se- & ke-) -->
                    <div class="lang-block" style="background: #fffbeb; border-color: #fde68a;">
                        <div class="lang-title" style="color: #b45309;">3. Imbuhan Tetap (Fixed Prefixes)</div>
                        <div class="lang-text" style="margin-bottom: 10px; font-size: 0.9em;">Tidak berubah bentuk (ä¸ä¼šå‘ç”Ÿå˜å½¢):</div>

                        <div class="lang-row">
                            <span class="lang-label" style="width: 75px; color: #b45309;">se-</span>
                            <span class="lang-text">Membawa maksud 'satu' (ä¸€) atau 'sama' (ç›¸åŒ)<br>
                            <span class="example-text">ğŸ‘‰ se + orang = seorang (ä¸€ä¸ªäºº)<br>ğŸ‘‰ se + cantik = secantik (å’Œ...ä¸€æ ·ç¾)</span></span>
                        </div>

                        <div class="lang-row">
                            <span class="lang-label" style="width: 75px; color: #b45309;">ke-</span>
                            <span class="lang-text">Digunakan untuk bilangan (æ•°å­—) atau ketua (é¢†è¢–)<br>
                            <span class="example-text">ğŸ‘‰ ke + dua = kedua (ç¬¬äºŒ)<br>ğŸ‘‰ ke + tua = ketua (é¢†è¢–/ä¸»å¸­)</span></span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card trap">
                <h3 style="color: var(--danger);">âš ï¸ Kesalahan Lazim (Exam Traps / å¸¸è§é”™è¯¯)</h3>
                <p style="color: #991b1b; margin-bottom: 15px; font-weight: 600;">Rules to prevent point-loss in SPM exams.</p>
                
                <div class="lang-grid">
                    <div class="lang-block" style="background: white; border-color: #fca5a5;">
                        <div class="lang-title" style="color: var(--danger);">1. Hukum Imbuhan memper-...</div>
                        <div class="lang-text">
                            Apabila 'memper-' digabung dengan <strong>KATA ADJEKTIF</strong>, <u>jangan letak '-kan'</u>.<br>
                            <em>[EN] When 'memper-' attaches to an ADJECTIVE, do NOT add '-kan'.<br>[CN] å½“ memper- æ¥å½¢å®¹è¯æ—¶ï¼Œç»å¯¹ä¸èƒ½åŠ åç¼€ -kanã€‚</em><br><br>
                            âŒ Salah: <span style="text-decoration: line-through;">memperdalamkan, memperbesarkan, mempercantikkan</span><br>
                            âœ… Betul: <span class="example-text">memperdalam (åŠ æ·±), memperbesar (åŠ å¤§), mempercantik (ç¾åŒ–)</span><br><br>
                            <span style="font-size: 0.9em; color: #64748b;">*Pengecualian (Exception): Jika kata dasar ialah Kata Nama/Kerja, boleh tambah -kan. (Cth: <strong>memperjuangkan</strong> - äº‰å–).</span>
                        </div>
                    </div>
                    
                    <div class="lang-block" style="background: white; border-color: #fca5a5;">
                        <div class="lang-title" style="color: var(--danger);">2. Hukum P, T, K, S (Luluh / Dropping Rule)</div>
                        <div class="lang-text">
                            Apabila <strong>meN-</strong> bertemu kata dasar bermula P, T, K, S, huruf pertama digugurkan.<br>
                            <em>[EN] First letter drops. [CN] é¦–å­—æ¯é€šå¸¸ä¼šè„±è½ã€‚</em><br><br>
                            ğŸ‘‰ <strong>p â†’ m:</strong> pukul â†’ <span class="example-text">memukul</span> (Bukan mempukul)<br>
                            ğŸ‘‰ <strong>t â†’ n:</strong> tolak â†’ <span class="example-text">menolak</span><br>
                            ğŸ‘‰ <strong>k â†’ ng:</strong> karang â†’ <span class="example-text">mengarang</span><br>
                            ğŸ‘‰ <strong>s â†’ ny:</strong> sapu â†’ <span class="example-text">menyapu</span><br><br>
                            <span style="font-size: 0.9em; color: #64748b;">*Pengecualian (Exception): Kata pinjaman asing (Cth: mempiercing) atau gugus konsonan (Cth: mentraktir, mengkritik) TIDAK GUGUR.</span>
                        </div>
                    </div>

                    <div class="lang-block" style="background: white; border-color: #fca5a5;">
                        <div class="lang-title" style="color: var(--danger);">3. SPM Tip: Mencari Kata Nama Terbitan Apitan</div>
                        <div class="lang-text">
                            Dalam soalan pemahaman, anda kerap disuruh mencari "Kata Nama Terbitan Apitan". Anda mesti cari perkataan yang ada imbuhan <strong>depan DAN belakang</strong> yang berfungsi sebagai KATA NAMA.<br>
                            <em>[EN] Find a NOUN with both a prefix and a suffix.<br>[CN] å¯»æ‰¾åŒæ—¶æœ‰å‰ç¼€å’Œåç¼€çš„åè¯ã€‚</em><br><br>
                            <strong>Taktik:</strong> Cari perkataan bermula <strong>pe- / ke-</strong> dan berakhir <strong>-an</strong>.<br>
                            âœ… Contoh Jawapan Tepat: <span class="example-text">perpaduan, penghasilan, kemajuan</span>
                        </div>
                    </div>
                </div>
            </div>

            <button class="start-btn" onclick="toggleMode()">ğŸ”¥ Mula Uji Minda (Quiz)</button>
        </div>

        <!-- ==============================================
             QUIZ VIEW 
        =============================================== -->
        <div id="quiz-view" class="section">
            <div class="quiz-container">
                <div class="progress-bar"><div id="progress-fill" class="progress-fill"></div></div>
                
                <div id="game-area">
                    <div class="question-card">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div class="q-number" id="q-number">Question 1 / 30</div>
                            <button id="trans-btn" class="trans-toggle-btn" onclick="toggleTranslation()">ğŸŒ Show Translation</button>
                        </div>
                        <div class="q-text" id="q-text">Loading...</div>
                        <div class="options-list" id="options-list">
                        </div>
                        
                        <div id="feedback" class="feedback-box"></div>
                        
                        <button id="next-btn" class="next-btn" onclick="nextQuestion()">Next Question â¡ï¸</button>
                    </div>
                </div>

                <div id="result-area" style="display:none; text-align:center;">
                    <h2 style="font-size:3em; margin-bottom:10px;">ğŸ‰ Selesai!</h2>
                    <p style="font-size:1.5em; color:#64748b;">Markah Akhir Anda:</p>
                    <div style="font-size:4em; font-weight:bold; color:var(--primary); margin:20px 0;" id="final-score">0 / 30</div>
                    <button class="start-btn" onclick="startQuiz()">Cuba Lagi (Restart)</button>
                    <button class="nav-btn" style="background:white; margin-top:20px;" onclick="toggleMode()">Back to Notes</button>
                </div>
            </div>
        </div>

    </div>

    <script>
        // === 30 QUESTIONS DATABASE WITH TRANSLATIONS ===
        // Note: Translation of options are deliberately neutralized to avoid giving away the answer directly.
        const questions = [
            { 
                q: "Perkataan 'telunjuk' ialah contoh bagi...", 
                q_cn: "å•è¯ 'telunjuk' æ˜¯...çš„ä¾‹å­",
                options: ["Awalan", "Akhiran", "Sisipan", "Apitan"], 
                options_cn: ["å‰ç¼€ (Prefix)", "åç¼€ (Suffix)", "ä¸­ç¼€ (Infix)", "ç¯ç¼€ (Circumfix)"],
                ans: 2, note: "Sisipan '-el-' dimasukkan ke dalam kata dasar 'tunjuk'." 
            },
            { 
                q: "Manakah antara berikut ialah kata terbitan awalan?", 
                q_cn: "ä»¥ä¸‹å“ªé¡¹æ˜¯å‰ç¼€æ´¾ç”Ÿè¯ï¼Ÿ",
                options: ["Makanan", "Berlari", "Kesihatan", "Gemilang"], 
                options_cn: ["é£Ÿç‰© (å)", "è·‘ (åŠ¨)", "å¥åº· (å)", "è¾‰ç…Œ (å½¢)"],
                ans: 1, note: "'Ber-' ialah awalan. 'Lari' ialah kata dasar." 
            },
            { 
                q: "Imbuhan 'peN-' dalam perkataan 'penyapu' membawa maksud...", 
                q_cn: "'penyapu' (æ‰«å¸š) ä¸­çš„è¯ç¼€ 'peN-' æ„æ€æ˜¯...",
                options: ["Orang yang melakukan", "Alat", "Proses", "Tempat"], 
                options_cn: ["æ‰§è¡Œè€…", "å·¥å…·", "è¿‡ç¨‹", "åœ°æ–¹"],
                ans: 1, note: "Penyapu ialah ALAT untuk menyapu." 
            },
            { 
                q: "Pilih kata nama terbitan apitan (Circumfix).", 
                q_cn: "é€‰æ‹©ç¯ç¼€ï¼ˆå‰åç¼€ï¼‰æ´¾ç”Ÿåè¯ã€‚",
                options: ["Pelukis", "Lukisan", "Perlukisan", "Melukis"], 
                options_cn: ["ç”»å®¶", "ç”»ä½œ", "ç»˜ç”»çš„è¿‡ç¨‹", "ç”»ç”»(åŠ¨è¯)"],
                ans: 2, note: "Per-...-an ialah apitan. (Pelukis=Awalan, Lukisan=Akhiran)." 
            },
            { 
                q: "'Sasterawan' menggunakan imbuhan pinjaman yang bermaksud...", 
                q_cn: "'Sasterawan' (æ–‡å­¦å®¶) ä½¿ç”¨çš„å¤–æ¥è¯ç¼€æ„æ€æ˜¯...",
                options: ["Ahli/Pakar", "Proses", "Alat", "Sifat"], 
                options_cn: ["ä¸“å®¶/å­¦è€…", "è¿‡ç¨‹", "å·¥å…·", "æ€§è´¨/ç‰¹å¾"],
                ans: 0, note: "-wan merujuk kepada orang yang ahli dalam bidang itu." 
            },
            { 
                q: "Ayat Pasif (Passive) mesti menggunakan imbuhan...", 
                q_cn: "è¢«åŠ¨å¥ (Passive) å¿…é¡»ä½¿ç”¨è¯ç¼€...",
                options: ["meN-", "ber-", "di-", "ter-"], 
                options_cn: ["meN- (ä¸»åŠ¨)", "ber- (çŠ¶æ€)", "di- (è¢«åŠ¨)", "ter- (æ— æ„)"],
                ans: 2, note: "Contoh: Bola itu DITENDANG oleh Ali." 
            },
            { 
                q: "Pilih ejaan yang betul bagi 'sapu' + meN-.", 
                q_cn: "é€‰æ‹© 'sapu' + meN- çš„æ­£ç¡®æ‹¼å†™è§„åˆ™ç»“æœã€‚",
                options: ["Mensapu", "Menyapu", "Memsapu", "Menapu"], 
                options_cn: ["æ‰« (meN-)", "æ‰« (meN-)", "æ‰« (meN-)", "æ‰« (meN-)"],
                ans: 1, note: "Hukum S: Huruf 's' gugur (luluh) apabila bertemu meN-." 
            },
            { 
                q: "Pilih ejaan yang betul bagi 'pukul' + meN-.", 
                q_cn: "é€‰æ‹© 'pukul' + meN- çš„æ­£ç¡®æ‹¼å†™è§„åˆ™ç»“æœã€‚",
                options: ["Mempukul", "Memukul", "Menpukul", "Pemukul"], 
                options_cn: ["æ‰“ (meN-)", "æ‰“ (meN-)", "æ‰“ (meN-)", "æ‰“å‡»è€…"],
                ans: 1, note: "Hukum P: Huruf 'p' gugur menjadi 'm'. (Pukul -> Memukul)." 
            },
            { 
                q: "Ali ________ (tunggu) bas di perhentian.", 
                q_cn: "Ali åœ¨è½¦ç«™ ________ (ç­‰å¾…) å·´å£«ã€‚",
                options: ["menunggu", "menunggukan", "ditunggu", "penunggu"], 
                options_cn: ["ç­‰å¾… (ä¸»åŠ¨åŠç‰©)", "ç­‰å¾… (å¸¦ -kan)", "è¢«ç­‰å¾…", "å®ˆå«"],
                ans: 0, note: "Ayat aktif: Subjek (Ali) melakukan perbuatan." 
            },
            { 
                q: "Murid-murid sedang ________ (baris) di padang.", 
                q_cn: "å­¦ç”Ÿä»¬æ­£åœ¨æ“åœºä¸Š ________ (æ’é˜Ÿ)ã€‚",
                options: ["membaris", "berbaris", "barisan", "dibariskan"], 
                options_cn: ["æ’åˆ— (åŠç‰©)", "æ’é˜Ÿ (ä¸åŠç‰©/çŠ¶æ€)", "é˜Ÿä¼ (åè¯)", "è¢«æ’åˆ—"],
                ans: 1, note: "Berbaris: Melakukan perbuatan (Intransitive)." 
            },
            { 
                q: "Ayah ________ (beli) adik sebuah buku.", 
                q_cn: "çˆ¶äº² ________ (ä¹°) ä¸€æœ¬ä¹¦ç»™å¼Ÿå¼Ÿ/å¦¹å¦¹ã€‚",
                options: ["membelikan", "membeli", "membelii", "berbeli"], 
                options_cn: ["ä¹°ç»™ (Benefaktif)", "ä¹° (ä¸»åŠ¨)", "ä¹° (æ¥å—è€…/åœ°ç‚¹)", "ä¹° (çŠ¶æ€)"],
                ans: 0, note: "MembeliKAN: Beli UNTUK seseorang (Benefaktif)." 
            },
            { 
                q: "Sultan ________ (kurnia) pahlawan itu pingat.", 
                q_cn: "è‹ä¸¹ ________ (èµäºˆ) é‚£ä½å‹‡å£«ä¸€æšå‹‹ç« ã€‚",
                options: ["mengurniakan", "mengurniai", "kurniaan", "berkurnia"], 
                options_cn: ["èµäºˆ (ç§»åŠ¨ç‰©å“)", "èµäºˆ (ç»™äºˆæ¥å—è€…)", "æ©èµç‰© (åè¯)", "æœ‰æ©èµ (çŠ¶æ€)"],
                ans: 1, note: "MengurniaI: Memberi kepada PENERIMA (Pahlawan)." 
            },
            { 
                q: "Ibu ________ (hias) ruang tamu dengan bunga.", 
                q_cn: "æ¯äº²ç”¨èŠ± ________ (è£…é¥°) å®¢å…ã€‚",
                options: ["menghiasi", "menghias", "berhias", "menghiaskan"], 
                options_cn: ["è£…é¥° (åœ°ç‚¹ä¸ºä¸»)", "è£…é¥° (ä¸»åŠ¨)", "æ‰“æ‰® (çŠ¶æ€)", "è£…é¥° (ç‰©ä¸ºä¸»)"],
                ans: 0, note: "MenghiasI: Perbuatan berlaku DI sesuatu tempat/objek (Ruang tamu)." 
            },
            { 
                q: "Pilih penggunaan 'memper-' yang BETUL.", 
                q_cn: "é€‰æ‹© 'memper-' çš„æ­£ç¡®è¯­æ³•è§„åˆ™ç”¨æ³•ã€‚",
                options: ["Memperdalamkan", "Memperluaskan", "Memperkecilkan", "Memperkemas"], 
                options_cn: ["åŠ æ·±", "æ‰©å¤§", "ç¼©å°", "æ•´ç†"],
                ans: 3, note: "Memper + Adjektif TIDAK BOLEH ada -kan. (Kemas ialah adjektif)." 
            },
            { 
                q: "Kerajaan ingin ________ (lebar) jalan raya itu.", 
                q_cn: "æ”¿åºœæƒ³è¦ ________ (æ‹“å®½) é‚£æ¡é©¬è·¯ã€‚",
                options: ["memperlebarkan", "memperlebar", "melebari", "berlebar"], 
                options_cn: ["æ‹“å®½ (å¸¦-kan)", "æ‹“å®½ (æ— -kan)", "æ‹“å®½ (å¸¦-i)", "æœ‰å®½åº¦çš„"],
                ans: 1, note: "Memperlebar (Betul). Memperlebarkan (Salah)." 
            },
            { 
                q: "Pilih ayat yang SALAH.", 
                q_cn: "é€‰æ‹©è¯­æ³•é”™è¯¯çš„å¥å­ã€‚",
                options: ["Lukisan ini cantik.", "Lukisan ini tercantik.", "Lukisan ini paling cantik.", "Lukisan ini paling tercantik."], 
                options_cn: ["è¿™å¹…ç”»å¾ˆç¾ã€‚", "è¿™å¹…ç”»æœ€ç¾ (ter-)ã€‚", "è¿™å¹…ç”»æœ€ç¾ (paling)ã€‚", "è¿™å¹…ç”»æœ€æœ€ç¾ (paling ter-)ã€‚"],
                ans: 3, note: "'Paling' dan 'Ter-' dua-dua maksud 'Most'. Tak boleh guna sekali." 
            },
            { 
                q: "Adik menangis kerana ________ (jatuh) longkang.", 
                q_cn: "å¼Ÿå¼Ÿ/å¦¹å¦¹å“­æ˜¯å› ä¸º ________ (è·Œ) è¿›æ²Ÿæ¸ ã€‚",
                options: ["menjatuhkan", "terjatuh", "dijatuh", "berjatuh"], 
                options_cn: ["å¼„è·Œ", "ä¸å°å¿ƒè·Œå€’", "è¢«è·Œ", "è·Œ (çŠ¶æ€)"],
                ans: 1, note: "Ter- di sini bermaksud 'Tidak Sengaja' (Accidental)." 
            },
            { 
                q: "Berat beg itu tidak ________ (angkat) oleh saya.", 
                q_cn: "è¿™ä¹ˆé‡çš„åŒ…æˆ‘ ________ (æ) ä¸èµ·ã€‚",
                options: ["terangkat", "mengangkat", "diangkat", "berangkat"], 
                options_cn: ["èƒ½ä¸¾èµ· (Keupayaan)", "ä¸¾èµ· (ä¸»åŠ¨)", "è¢«ä¸¾èµ·", "å¯ç¨‹ (çŠ¶æ€)"],
                ans: 0, note: "Ter- di sini bermaksud 'Keupayaan' (Ability - able to lift)." 
            },
            { 
                q: "Mereka membincangkan ________ (sihat) murid-murid.", 
                q_cn: "ä»–ä»¬è®¨è®ºå­¦ç”Ÿä»¬çš„ ________ (å¥åº·)ã€‚",
                options: ["penyihatan", "kesihatan", "berkesihatan", "menyihatkan"], 
                options_cn: ["ä½¿å¥åº·çš„è¿‡ç¨‹", "å¥åº· (åè¯)", "æ‹¥æœ‰å¥åº·", "ä½¿å¥åº·"],
                ans: 1, note: "Kesihatan (Health) ialah Kata Nama (Konsep)." 
            },
            { 
                q: "Rombongan itu sudah tiba di ________ (duduk) pengantin.", 
                q_cn: "è¿äº²é˜Ÿä¼å·²ç»åˆ°è¾¾æ–°äººçš„ ________ (åº§ä½)ã€‚",
                options: ["pendudukan", "kedudukan", "menduduki", "terduduk"], 
                options_cn: ["å é¢†è¿‡ç¨‹", "ä½ç½®/åº§ä½", "å‚åŠ /å æ®", "è·Œå"],
                ans: 1, note: "Kedudukan: Tempat (Position/Place)." 
            },
            { 
                q: "Pilih kata terbitan yang bermaksud 'saling membantu'.", 
                q_cn: "é€‰æ‹©æ„æ€æ˜¯â€œäº’ç›¸å¸®åŠ©â€çš„æ´¾ç”Ÿè¯ã€‚",
                options: ["Membantu", "Bantuan", "Bantu-membantu", "Terbantu"], 
                options_cn: ["å¸®åŠ©", "æ´åŠ© (åè¯)", "äº’ç›¸å¸®åŠ©", "è¢«å¸®åŠ© (æ— æ„)"],
                ans: 2, note: "Kata Ganda + Imbuhan (Bantu-membantu) bermaksud perbuatan timbal balik (reciprocal)." 
            },
            { 
                q: "Asap tebal itu ________ (pedih) mata saya.", 
                q_cn: "æµ“çƒŸ ________ (åˆºç—›) æˆ‘çš„çœ¼ç›ã€‚",
                options: ["mempedihkan", "memedihkan", "berpedih", "kepedihan"], 
                options_cn: ["åˆºç—› (æœªè„±è½P)", "åˆºç—› (è„±è½P)", "æ„Ÿåˆ°åˆºç—›", "åˆºç—›æ„Ÿ"],
                ans: 1, note: "Hukum P: 'P' gugur. Pedih -> Memedihkan." 
            },
            { 
                q: "Dia berasa ________ (asing) di negara orang.", 
                q_cn: "ä»–åœ¨å¼‚å›½ä»–ä¹¡æ„Ÿåˆ° ________ (å­¤å•/æ ¼æ ¼ä¸å…¥)ã€‚",
                options: ["terasing", "pengasingan", "mengasingkan", "berasing"], 
                options_cn: ["è¢«å­¤ç«‹/æ ¼æ ¼ä¸å…¥", "éš”ç¦» (åè¯)", "ä½¿éš”ç¦»", "åˆ†å¼€"],
                ans: 0, note: "Terasing: Berasa dalam keadaan asing (Isolated/Alienated)." 
            },
            { 
                q: "Jangan suka ________ (buruk) orang lain.", 
                q_cn: "ä¸è¦å–œæ¬¢ ________ (è¯´åè¯/è¯½è°¤) åˆ«äººã€‚",
                options: ["memburuk", "memburukkan", "keburukan", "berburuk"], 
                options_cn: ["å˜å", "è¯´åè¯/è¯½è°¤", "åå¤„ (åè¯)", "å¿ƒæ€€ä¸è½¨"],
                ans: 1, note: "MemburukKAN: Menjadikan sesuatu buruk (perbuatan transitif)." 
            },
            { 
                q: "Baginda ________ (angkat) sebagai Raja sehari.", 
                q_cn: "é™›ä¸‹è¢« ________ (æ¨ä¸¾) ä¸ºä¸€æ—¥å›½ç‹ã€‚",
                options: ["mengangkat", "terangkat", "diangkat", "berangkat"], 
                options_cn: ["ä¸¾èµ·", "èƒ½ä¸¾èµ·/ä¸å°å¿ƒ", "è¢«æ¨ä¸¾", "å¯ç¨‹"],
                ans: 2, note: "Diangkat (Passive): Was appointed/crowned." 
            },
            { 
                q: "Polis sedang ________ (siasat) kes itu.", 
                q_cn: "è­¦å¯Ÿæ­£åœ¨ ________ (è°ƒæŸ¥) è¯¥æ¡ˆä»¶ã€‚",
                options: ["menyiasat", "mensiasat", "bersiasat", "tersiasat"], 
                options_cn: ["è°ƒæŸ¥ (è„±è½S)", "è°ƒæŸ¥ (æœªè„±è½S)", "æœ‰è°ƒæŸ¥", "è¢«è°ƒæŸ¥ (æ— æ„)"],
                ans: 0, note: "Hukum S: Siasat -> Menyiasat." 
            },
            { 
                q: "Kita mesti ________ (tepati) masa.", 
                q_cn: "æˆ‘ä»¬å¿…é¡» ________ (å®ˆæ—¶)ã€‚",
                options: ["menepati", "mentepati", "bertepat", "ketepatan"], 
                options_cn: ["éµå®ˆ (è„±è½T)", "éµå®ˆ (æœªè„±è½T)", "æ­£å¥½", "å‡†ç¡®æ€§"],
                ans: 0, note: "Hukum T: Tepat -> Menepati." 
            },
            { 
                q: "Setiap warganegara mesti ________ (taat) kepada raja.", 
                q_cn: "æ¯ä¸ªå…¬æ°‘éƒ½å¿…é¡» ________ (æ•ˆå¿ ) å›½ç‹ã€‚",
                options: ["mentaati", "menataati", "bertaat", "ketaatan"], 
                options_cn: ["æ•ˆå¿  (æœªè„±è½T - å¼‚å¸¸)", "æ•ˆå¿  (è„±è½T)", "æœ‰æ•ˆå¿ ", "å¿ è¯šåº¦"],
                ans: 0, note: "Hukum T: Taat -> Mentaati (Pengecualian khusus kata Arab)." 
            },
            { 
                q: "Projek itu memberi ________ (untung) yang besar.", 
                q_cn: "è¯¥é¡¹ç›®å¸¦æ¥äº†å·¨å¤§çš„ ________ (åˆ©æ¶¦)ã€‚",
                options: ["beruntung", "keuntungan", "menguntungkan", "teruntung"], 
                options_cn: ["å¹¸è¿", "åˆ©æ¶¦", "å¸¦æ¥åˆ©æ¶¦", "æœ€å¹¸è¿"],
                ans: 1, note: "Memberi [Kata Nama]. Keuntungan = Profit (Noun)." 
            },
            { 
                q: "Ali ________ (tonton) televisyen sambil makan.", 
                q_cn: "Ali è¾¹åƒè¾¹ ________ (çœ‹) ç”µè§†ã€‚",
                options: ["menonton", "mentonton", "pertonton", "ditonton"], 
                options_cn: ["è§‚çœ‹ (è„±è½T)", "è§‚çœ‹ (æœªè„±è½T)", "å±•è§ˆ", "è¢«è§‚çœ‹"],
                ans: 0, note: "Hukum T: Tonton -> Menonton." 
            }
        ];

        let currentQIndex = 0;
        let score = 0;
        let isAnswered = false;
        let isTransVisible = false;

        function toggleMode() {
            const notes = document.getElementById('notes-view');
            const quiz = document.getElementById('quiz-view');
            
            if (notes.classList.contains('active')) {
                notes.classList.remove('active');
                quiz.classList.add('active');
                if(currentQIndex === 0 && !isAnswered) startQuiz();
            } else {
                quiz.classList.remove('active');
                notes.classList.add('active');
            }
        }

        function toggleTranslation() {
            isTransVisible = !isTransVisible;
            const gameArea = document.getElementById('game-area');
            const transBtn = document.getElementById('trans-btn');
            
            if (isTransVisible) {
                gameArea.classList.add('show-trans');
                transBtn.classList.add('active');
                transBtn.innerText = 'ğŸŒ Hide Translation';
            } else {
                gameArea.classList.remove('show-trans');
                transBtn.classList.remove('active');
                transBtn.innerText = 'ğŸŒ Show Translation';
            }
        }

        function startQuiz() {
            document.getElementById('result-area').style.display = 'none';
            document.getElementById('game-area').style.display = 'block';
            currentQIndex = 0;
            score = 0;
            loadQuestion(0);
        }

        function loadQuestion(index) {
            isAnswered = false;
            const q = questions[index];
            
            document.getElementById('q-number').innerText = `Question ${index + 1} / ${questions.length}`;
            
            // Render Question with hidden translation layer
            document.getElementById('q-text').innerHTML = `
                ${q.q}
                <div class="trans-layer">${q.q_cn}</div>
            `;

            document.getElementById('feedback').style.display = 'none';
            document.getElementById('next-btn').style.display = 'none';
            
            const percent = ((index) / questions.length) * 100;
            document.getElementById('progress-fill').style.width = `${percent}%`;

            const list = document.getElementById('options-list');
            list.innerHTML = '';
            
            q.options.forEach((opt, i) => {
                const btn = document.createElement('button');
                btn.className = 'option-btn';
                
                // Extract translation option safely
                const optTrans = q.options_cn && q.options_cn[i] ? q.options_cn[i] : "";
                
                // Build button interior
                btn.innerHTML = `
                    <div style="font-size: 1.05em;">${opt}</div>
                    <div class="trans-layer">${optTrans}</div>
                `;

                btn.onclick = () => checkAnswer(i, btn);
                list.appendChild(btn);
            });
        }

        function checkAnswer(selectedIndex, btn) {
            if (isAnswered) return;
            isAnswered = true;
            
            const q = questions[currentQIndex];
            const feedback = document.getElementById('feedback');
            const allBtns = document.querySelectorAll('.option-btn');
            
            allBtns.forEach(b => b.disabled = true);

            if (selectedIndex === q.ans) {
                score++;
                btn.classList.add('correct');
                feedback.className = 'feedback-box correct';
                feedback.innerHTML = `<strong>âœ… Betul!</strong><br>${q.note}`;
            } else {
                btn.classList.add('wrong');
                allBtns[q.ans].classList.add('correct');
                feedback.className = 'feedback-box wrong';
                feedback.innerHTML = `<strong>âŒ Salah.</strong> Jawapan: ${q.options[q.ans]}<br>${q.note}`;
            }

            feedback.style.display = 'block';
            document.getElementById('next-btn').style.display = 'inline-block';
        }

        function nextQuestion() {
            currentQIndex++;
            if (currentQIndex < questions.length) {
                loadQuestion(currentQIndex);
            } else {
                showResult();
            }
        }

        function showResult() {
            document.getElementById('game-area').style.display = 'none';
            document.getElementById('result-area').style.display = 'block';
            document.getElementById('final-score').innerText = `${score} / ${questions.length}`;
            document.getElementById('progress-fill').style.width = '100%';
        }
    </script>
</body>
</html>