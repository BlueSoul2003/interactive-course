<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UEC Grammar (Paper 2) | English Mastery</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,300;0,400;0,700;1,400&family=Inter:wght@300;400;600&display=swap"
        rel="stylesheet">
    <style>
        :root {
            /* Academic/Exam Theme - Consistent with Reading Module */
            --bg-color: #0f172a;
            --surface-color: #1e293b;
            --paper-color: #f1f5f9;
            --paper-text: #1e293b;

            --text-primary: #f8fafc;
            --text-secondary: #94a3b8;
            --border-color: rgba(255, 255, 255, 0.1);

            --accent-gold: #d97706;
            --accent-gold-glow: rgba(217, 119, 6, 0.3);

            --correct-color: #10b981;
            --wrong-color: #ef4444;

            --font-serif: 'Merriweather', serif;
            --font-sans: 'Inter', sans-serif;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: var(--font-sans);
            background-color: var(--bg-color);
            color: var(--text-primary);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            overflow-x: hidden;
        }

        /* --- Header --- */
        header {
            padding: 20px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(15, 23, 42, 0.95);
            border-bottom: 1px solid var(--accent-gold);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .logo {
            font-family: var(--font-serif);
            font-size: 1.4rem;
            color: var(--text-primary);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 700;
        }

        .logo span {
            color: var(--accent-gold);
        }

        /* --- Layout --- */
        main {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 20px;
            flex-grow: 1;
        }

        .section-title {
            text-align: center;
            font-family: var(--font-serif);
            margin-bottom: 10px;
            font-size: 2.2rem;
            color: var(--text-primary);
        }

        .section-subtitle {
            text-align: center;
            color: var(--text-secondary);
            margin-bottom: 40px;
            font-size: 1.1rem;
        }

        /* Tabs */
        .tabs {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 40px;
        }

        .tab-btn {
            background: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
            padding: 10px 25px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-size: 0.9rem;
        }

        .tab-btn:hover {
            border-color: var(--accent-gold);
            color: var(--accent-gold);
        }

        .tab-btn.active {
            background: var(--accent-gold);
            color: white;
            border-color: var(--accent-gold);
        }

        /* --- Tips Sidebar Layout --- */
        .content-split {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 30px;
            align-items: start;
        }

        /* Toggle & CN Text */
        .toggle-wrapper {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #334155;
            transition: .4s;
            border-radius: 34px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked+.slider {
            background-color: var(--accent-gold);
        }

        input:checked+.slider:before {
            transform: translateX(26px);
        }

        .cn-text {
            display: none;
            color: #94a3b8;
            font-size: 0.9em;
            margin-top: 5px;
            font-weight: normal;
        }

        body.show-cn .cn-text {
            display: block;
        }

        body.show-cn .tip-item strong .cn-inline {
            display: inline;
        }

        .cn-inline {
            display: none;
            margin-left: 5px;
            color: #cbd5e1;
        }


        .tips-card {
            background: var(--surface-color);
            border: 1px solid var(--accent-gold);
            border-radius: 8px;
            padding: 25px;
            position: sticky;
            top: 100px;
        }

        .tips-card h3 {
            color: var(--accent-gold);
            font-family: var(--font-serif);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .tip-item {
            margin-bottom: 15px;
            font-size: 0.95rem;
            line-height: 1.5;
        }

        .tip-item strong {
            color: #feebc8;
            display: block;
            margin-bottom: 3px;
        }

        /* --- Questions --- */
        .exam-panel {
            display: none;
        }

        .exam-panel.active {
            display: block;
            animation: activePanel 0.4s ease-out;
        }

        @keyframes activePanel {
            from {
                opacity: 0;
                transform: translateY(5px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .question-box {
            background: var(--surface-color);
            border: 1px solid var(--border-color);
            padding: 25px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        /* Error ID Styles */
        .sentence-display {
            font-family: var(--font-serif);
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 20px;
            background: rgba(0, 0, 0, 0.2);
            padding: 20px;
            border-radius: 4px;
        }

        .error-opt {
            border-bottom: 2px solid var(--accent-gold);
            color: var(--text-primary);
            cursor: pointer;
            padding: 0 2px;
            transition: 0.2s;
        }

        .error-opt:hover {
            background: rgba(217, 119, 6, 0.2);
        }

        .error-opt.selected {
            background: var(--accent-gold);
            color: white;
        }

        .error-opt.correct {
            background: var(--correct-color);
            color: white;
            border-color: transparent;
        }

        .error-opt.wrong {
            background: var(--wrong-color);
            color: white;
            border-color: transparent;
        }

        .feedback-box {
            margin-top: 15px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            /* slightly lighter than bg */
            border-radius: 4px;
            border-left: 3px solid var(--accent-gold);
            display: none;
            font-size: 0.95rem;
        }

        /* Word Form Styles */
        .word-form-input {
            background: var(--bg-color);
            border: 1px solid var(--text-secondary);
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            margin: 0 5px;
            font-family: monospace;
            font-size: 1rem;
            width: 150px;
        }

        .word-form-input:focus {
            border-color: var(--accent-gold);
            outline: none;
        }

        .word-form-input.correct {
            border-color: var(--correct-color);
            color: var(--correct-color);
        }

        .word-form-input.wrong {
            border-color: var(--wrong-color);
            color: var(--wrong-color);
        }

        .check-btn {
            background: var(--accent-gold);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 20px;
        }

        .check-btn:hover {
            background: #b45309;
        }

        @media (max-width: 900px) {
            .content-split {
                grid-template-columns: 1fr;
            }

            .tips-card {
                position: static;
                margin-bottom: 30px;
            }
        }
    </style>
</head>

<body class="show-cn">

    <header>
        <a href="index.html" class="logo">
            <span>ğŸ“</span> UEC English (2017)
        </a>
        <div class="header-controls" style="display:flex; gap:20px; align-items:center;">
            <div class="toggle-wrapper">
                <span>Show Chinese</span>
                <label class="switch">
                    <input type="checkbox" id="cn-toggle" checked onchange="document.body.classList.toggle('show-cn')">
                    <span class="slider"></span>
                </label>
            </div>
            <a href="index.html" style="color:var(--text-secondary); text-decoration:none; font-size:0.9rem;">Exit</a>
        </div>
    </header>

    <main>
        <div class="section-title">Senior English Paper 2</div>
        <p class="section-subtitle">Section B: Language Use (20%)</p>

        <div class="tabs">
            <button class="tab-btn active" onclick="showPanel(0)">Part I: Error Identification</button>
            <button class="tab-btn" onclick="showPanel(1)">Part II: Word Forms</button>
        </div>

        <!-- PART I -->
        <div id="panel-0" class="exam-panel active">
            <div class="content-split">
                <!-- Sidebar Tips -->
                <div class="tips-card">
                    <h3>ğŸ’¡ Exam Tips <span class="cn-text"
                            style="display:none; display:inline-block; margin-left:10px;">(åšé¢˜æŠ€å·§)</span></h3>
                    <div class="tip-item">
                        <strong>1. Verbs (åŠ¨è¯) <span class="cn-inline">æ‰¾åŠ¨è¯</span></strong>
                        Check Tense (ed/ing), Modals (can+root), SVA (he goes).
                        <div class="cn-text">çœ‹åˆ°åˆ’çº¿çš„æ˜¯åŠ¨è¯ï¼Œæ£€æŸ¥ï¼šæ—¶æ€ (Tense)ï¼Œæ­é… (Modal Verbs)ï¼Œå•å¤æ•° (SVA/Agreement)ã€‚</div>
                    </div>
                    <div class="tip-item">
                        <strong>2. Nouns/Adj (åè¯/å½¢å®¹è¯) <span class="cn-inline">æ‰¾å½¢å®¹è¯</span></strong>
                        Countable? "Two-hour flight" (no s).
                        <div class="cn-text">å¤åˆå½¢å®¹è¯ï¼šæ•°å­—+åè¯ï¼Œåè¯ä¸èƒ½åŠ s (e.g. A two-hour flight)ã€‚</div>
                    </div>
                    <div class="tip-item">
                        <strong>3. Confusing Words (æ˜“æ··è¯)</strong>
                        Past vs Pass. Access vs Excess.
                        <div class="cn-text">æ³¨æ„æ˜“æ··è¯ï¼šPast (ç»è¿‡/è¿‡å») vs Pass (é€šè¿‡ - åŠ¨è¯); Access (è¿›å…¥) vs Excess (è¿‡åº¦)ã€‚</div>
                    </div>
                </div>

                <!-- Content -->
                <div id="error-container">
                    <!-- Q26 -->
                    <div class="question-box">
                        <div style="margin-bottom:10px;color:var(--text-secondary);">Q26. Click the ERROR.</div>
                        <div class="sentence-display" id="q26-sent">
                            Peter has an anti-social personality because he <span class="error-opt"
                                onclick="selErr(26, 'A')">will never taken</span> (A) part in any activities or
                            functions <span class="error-opt" onclick="selErr(26, 'B')">in</span> (B) school.
                        </div>
                        <div id="fb-26" class="feedback-box"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- PART II -->
        <div id="panel-1" class="exam-panel">
            <div class="content-split">
                <!-- Sidebar Tips -->
                <div class="tips-card">
                    <h3>ğŸ’¡ Word Form Tips <span class="cn-text"
                            style="display:none; display:inline-block; margin-left:10px;">(å˜å½¢æŠ€å·§)</span></h3>
                    <div class="tip-item">
                        <strong>Noun (åè¯) <span class="cn-inline">çœ‹å‰åè¯</span></strong>
                        After: a/an/the, of, in. Suffix: -tion, -ment, -ness.
                        <div class="cn-text">The/A/An + ___ + of/in/on -> å¡«åè¯ã€‚åç¼€: -tion, -ment, -ness, -ityã€‚</div>
                    </div>
                    <div class="tip-item">
                        <strong>Adjective (å½¢å®¹è¯)</strong>
                        After: is/are/was. Suffix: -al, -ive, -ous, -able.
                        <div class="cn-text">Is/Are/Was + ___ -> å¡«å½¢å®¹è¯ã€‚åç¼€: -al, -ive, -ous, -able, -fulã€‚</div>
                    </div>
                    <div class="tip-item">
                        <strong>Adverb (å‰¯è¯)</strong>
                        Modifies verb. Ends in -ly.
                        <div class="cn-text">åŠ¨è¯ + ___ -> å¡«å‰¯è¯ (-ly)ã€‚To + ___ -> å¡«åŠ¨è¯åŸå½¢ã€‚</div>
                    </div>
                </div>

                <div class="question-box">
                    <div class="sentence-display">
                        <p>
                            Before the invention of books, people wrote on stone and clay... But to make a book, a real
                            book as we know today, you need paper and printing.
                            <span class="cn-text">åœ¨ä¹¦ç±å‘æ˜ä¹‹å‰ï¼Œäººä»¬åœ¨çŸ³å¤´å’Œç²˜åœŸä¸Šä¹¦å†™... ä½†è¦åˆ¶ä½œä¸€æœ¬ä¹¦ï¼Œä¸€æœ¬æˆ‘ä»¬ä»Šå¤©æ‰€çŸ¥é“çš„çœŸæ­£çš„ä¹¦ï¼Œä½ éœ€è¦çº¸å’Œå°åˆ·æœ¯ã€‚</span>
                        </p>

                        <p>
                            Paper was perhaps the greatest tool for <span style="font-weight:bold">(36)</span> <input
                                type="text" class="word-form-input" id="wf-36" placeholder="communicate"> until the
                            computer was invented. The best evidence indicates that paper was invented by the Chinese
                            between the years 250 B.C. and 105 B.C. <span style="font-weight:bold">(37)</span> <input
                                type="text" class="word-form-input" id="wf-37" placeholder="History"> studying Asian
                            culture have found more <span style="font-weight:bold">(38)</span> <input type="text"
                                class="word-form-input" id="wf-38" placeholder="convince"> proof that paper was soon
                            used to print money.
                        <div class="cn-text">ç›´åˆ°è®¡ç®—æœºå‘æ˜ä¹‹å‰ï¼Œçº¸å¼ æˆ–è®¸æ˜¯ (36) äº¤æµ æœ€ä¼Ÿå¤§çš„å·¥å…·ã€‚æœ€å¥½çš„è¯æ®è¡¨æ˜ï¼Œçº¸å¼ æ˜¯ä¸­å›½äººåœ¨å…¬å…ƒå‰250å¹´åˆ°å…¬å…ƒå‰105å¹´ä¹‹é—´å‘æ˜çš„ã€‚(37)
                            å†å²å­¦å®¶ ç ”ç©¶äºšæ´²æ–‡åŒ–å‘ç°äº†æ›´å¤š (38) ä»¤äººä¿¡æœçš„ è¯æ®ï¼Œè¯æ˜çº¸å¼ å¾ˆå¿«å°±è¢«ç”¨æ¥å°åˆ¶è´§å¸ã€‚</div>
                        </p>

                        <p>
                            Paper money is one of the most <span style="font-weight:bold">(39)</span> <input type="text"
                                class="word-form-input" id="wf-39" placeholder="use"> inventions in history, and it
                            greatly helped the <span style="font-weight:bold">(40)</span> <input type="text"
                                class="word-form-input" id="wf-40" placeholder="develop"> of trade and commerce in
                            China. People make a big mistake when they think that printing is <span
                                style="font-weight:bold">(41)</span> <input type="text" class="word-form-input"
                                id="wf-41" placeholder="entire"> a Western discovery.
                        <div class="cn-text">çº¸å¸æ˜¯å†å²ä¸Šæœ€ (39) æœ‰ç”¨çš„ å‘æ˜ä¹‹ä¸€ï¼Œå®ƒæå¤§åœ°å¸®åŠ©äº†ä¸­å›½è´¸æ˜“å’Œå•†ä¸šçš„ (40) å‘å±•ã€‚å½“äººä»¬è®¤ä¸ºå°åˆ·æœ¯ (41) å®Œå…¨
                            æ˜¯è¥¿æ–¹çš„å‘ç°æ—¶ï¼Œä»–ä»¬çŠ¯äº†ä¸€ä¸ªå¤§é”™è¯¯ã€‚</div>
                        </p>

                        <p>
                            In fact, the first ideas about printing also came to us from China... It is said that in
                            11th century China, a blacksmith named Pi Sheng invented the best system for <span
                                style="font-weight:bold">(42)</span> <input type="text" class="word-form-input"
                                id="wf-42" placeholder="print"> with blocks.
                        <div class="cn-text">äº‹å®ä¸Šï¼Œå…³äºå°åˆ·æœ¯æœ€åˆçš„æƒ³æ³•ä¹Ÿæ¥è‡ªä¸­å›½... æ®è¯´åœ¨11ä¸–çºªçš„ä¸­å›½ï¼Œä¸€ä½åå«æ¯•å‡çš„é“åŒ å‘æ˜äº†æœ€å¥½çš„æ´»å­— (42) å°åˆ· ç³»ç»Ÿã€‚</div>
                        </p>

                        <p>
                            Did this discovery travel to the West? Did a <span style="font-weight:bold">(43)</span>
                            <input type="text" class="word-form-input" id="wf-43" placeholder="Europe"> make the
                            discovery again by himself? Nobody is sure of the answer. But we do know that Johannes
                            Gutenberg... created the first printing press with <span
                                style="font-weight:bold">(44)</span> <input type="text" class="word-form-input"
                                id="wf-44" placeholder="move"> type in Europe around the year 1450.
                        <div class="cn-text">è¿™é¡¹å‘ç°ä¼ åˆ°è¥¿æ–¹äº†å—ï¼Ÿæ˜¯ä¸€ä½ (43) æ¬§æ´²äºº è‡ªå·±å†æ¬¡å‘ç°äº†å®ƒå—ï¼Ÿæ²¡æœ‰äººç¡®åˆ‡çŸ¥é“ç­”æ¡ˆã€‚ä½†æˆ‘ä»¬è¦çŸ¥é“ï¼ŒJohannes Gutenberg...
                            å¤§çº¦åœ¨1450å¹´åœ¨æ¬§æ´²å‘æ˜äº†ç¬¬ä¸€å°ä½¿ç”¨ (44) å¯ç§»åŠ¨ é“…å­—çš„å°åˆ·æœºã€‚</div>
                        </p>

                        <p>
                            Without these contributions to paper and printing, it would not have been possible to invent
                            the book, one of the highest <span style="font-weight:bold">(45)</span> <input type="text"
                                class="word-form-input" id="wf-45" placeholder="achieve"> of the last millennium.
                        <div class="cn-text">å¦‚æœæ²¡æœ‰è¿™äº›å¯¹çº¸å¼ å’Œå°åˆ·æœ¯çš„è´¡çŒ®ï¼Œå°±ä¸å¯èƒ½å‘æ˜ä¹¦ï¼Œè¿™æ˜¯ä¸Šä¸€ä¸ªåƒå¹´æœ€é«˜çš„ (45) æˆå°± ä¹‹ä¸€ã€‚</div>
                        </p>
                    </div>
                    <button class="check-btn" onclick="checkWordForms()">Check Answers</button>
                    <div id="wf-feedback" style="margin-top:20px; font-weight:bold; color:var(--text-primary);"></div>
                </div>
            </div>
        </div>

    </main>

    <script>
        // --- DATA PART I ---
        const errorQs = [
            {
                id: 26,
                html: `Peter has an anti-social personality because he <span class="error-opt" id="opt-26-A" onclick="selErr(26, 'A')">will never taken</span> (A) part in any <span class="error-opt" id="opt-26-C" onclick="selErr(26, 'C')">activities</span> (C) or <span class="error-opt" id="opt-26-D" onclick="selErr(26, 'D')">functions</span> (D) <span class="error-opt" id="opt-26-B" onclick="selErr(26, 'B')">in</span> (B) school.`,
                ans: 'A',
                expl: "Modal verb 'will' must be followed by base form 'take', not 'taken'.",
                explCn: "Modal verb (æƒ…æ€åŠ¨è¯) will åé¢å¿…é¡»è·ŸåŸå½¢åŠ¨è¯ (Base Form)ã€‚ä¸èƒ½ç”¨è¿‡å»åˆ†è¯ takenã€‚",
                trans: "Peter å…·æœ‰åç¤¾ä¼šäººæ ¼ï¼Œå› ä¸ºä»–ç»ä¸ä¼šå‚åŠ å­¦æ ¡çš„ä»»ä½•æ´»åŠ¨æˆ–é›†ä¼šã€‚"
            },
            {
                id: 27,
                html: `I did not see <span class="error-opt" id="opt-27-A" onclick="selErr(27, 'A')">anybody</span> (A) in the classroom <span class="error-opt" id="opt-27-B" onclick="selErr(27, 'B')">as</span> (B) <span class="error-opt" id="opt-27-C" onclick="selErr(27, 'C')">they were</span> (C) many events being held <span class="error-opt" id="opt-27-D" onclick="selErr(27, 'D')">at</span> (D) the school hall.`,
                ans: 'C',
                expl: "Should be 'there were' (existential) not 'they were'.",
                explCn: "è¿™é‡Œæ˜¯æƒ³è¯´â€œæœ‰è®¸å¤šæ´»åŠ¨â€ã€‚è‹±æ–‡çš„â€œæœ‰â€åœ¨å¥é¦–é€šå¸¸ç”¨ There be å¥å‹ã€‚They were æ„æ€æ˜¯â€œå®ƒä»¬æ˜¯â€ã€‚",
                trans: "æˆ‘åœ¨æ•™å®¤é‡Œæ²¡çœ‹åˆ°ä»»ä½•äººï¼Œå› ä¸ºåœ¨å­¦æ ¡å¤§å…é‡Œä¸¾è¡Œç€è®¸å¤šæ´»åŠ¨ã€‚"
            },
            {
                id: 28,
                html: `The bus <span class="error-opt" id="opt-28-A" onclick="selErr(28, 'A')">carried</span> (A) twenty passengers <span class="error-opt" id="opt-28-B" onclick="selErr(28, 'B')">lost</span> (B) control and <span class="error-opt" id="opt-28-C" onclick="selErr(28, 'C')">crashed</span> (C) into a lamp post before <span class="error-opt" id="opt-28-D" onclick="selErr(28, 'D')">plunging</span> (D) into a ravine.`,
                ans: 'A',
                expl: "Main verb is 'lost'. Bus should be modified by 'carrying' (participle) not 'carried'.",
                explCn: "ä¸€ä¸ªå¥å­é‡Œä¸èƒ½æœ‰ä¸¤ä¸ªè°“è¯­åŠ¨è¯ï¼ˆcarried å’Œ lostï¼‰æ‰“æ¶ã€‚è¿™é‡Œ carried ä¿®é¥° busï¼Œåº”è¯¥ç”¨åˆ†è¯å½¢å¼ carrying (è½½ç€) æˆ–å®šè¯­ä»å¥ã€‚",
                trans: "é‚£è¾†è½½ç€20åä¹˜å®¢çš„å·´å£«å¤±æ§æ’ä¸Šäº†ç¯æŸ±ï¼Œç„¶åå å…¥å±±æ²Ÿã€‚"
            },
            {
                id: 29,
                html: `It was a <span class="error-opt" id="opt-29-A" onclick="selErr(29, 'A')">pleasant</span> (A) <span class="error-opt" id="opt-29-B" onclick="selErr(29, 'B')">two-hours</span> (B) flight to Singapore but when we <span class="error-opt" id="opt-29-C" onclick="selErr(29, 'C')">arrived</span> (C), my grandma complained of <span class="error-opt" id="opt-29-D" onclick="selErr(29, 'D')">tiredness</span> (D).`,
                ans: 'B',
                expl: "Compound adjectives like 'two-hour' do not use plural 's'.",
                explCn: "å½“â€œæ•°å­—+åè¯â€ä½œä¸ºå½¢å®¹è¯ä¿®é¥°åé¢çš„è¯ï¼ˆflightï¼‰æ—¶ï¼Œä¸­é—´è¦åŠ è¿å­—ç¬¦ï¼Œä¸”åè¯ä¸èƒ½åŠ sã€‚ä¾‹å¦‚ï¼šA 5-year-old boyã€‚",
                trans: "é‚£æ˜¯ä¸€è¶Ÿå»æ–°åŠ å¡çš„æ„‰å¿«çš„ä¸¤å°æ—¶é£è¡Œï¼Œä½†å½“æˆ‘ä»¬åˆ°è¾¾æ—¶ï¼Œæˆ‘å¥¶å¥¶æŠ±æ€¨è¯´å¾ˆç´¯ã€‚"
            },
            {
                id: 30,
                html: `If he <span class="error-opt" id="opt-30-A" onclick="selErr(30, 'A')">has had</span> (A) enough money at that time, he <span class="error-opt" id="opt-30-B" onclick="selErr(30, 'B')">would have bought</span> (B) a large mansion <span class="error-opt" id="opt-30-C" onclick="selErr(30, 'C')">with</span> (C) an indoor swimming pool <span class="error-opt" id="opt-30-D" onclick="selErr(30, 'D')">for</span> (D) his family.`,
                ans: 'A',
                expl: "Type 3 Conditional requires Past Perfect: 'had had', not 'has had'.",
                explCn: "è¿™æ˜¯ Type 3 Conditional (è™šæ‹Ÿè¯­æ°”)ã€‚åé¢æ˜¯ 'would have bought'ï¼Œå‰é¢ IF ä»å¥å¿…é¡»ç”¨ Past Perfect (è¿‡å»å®Œæˆæ—¶)ï¼Œå³ 'had + p.p.'ã€‚",
                trans: "å¦‚æœé‚£æ—¶ä»–æœ‰è¶³å¤Ÿçš„é’±ï¼Œä»–å°±ä¼šä¸ºä»–çš„å®¶äººä¹°ä¸€æ ‹å¸¦æœ‰å®¤å†…æ¸¸æ³³æ± çš„å¤§è±ªå®…ã€‚"
            },
            {
                id: 31,
                html: `Her legs <span class="error-opt" id="opt-31-A" onclick="selErr(31, 'A')">felt</span> (A) weak, and she sat heavily on the curb, <span class="error-opt" id="opt-31-B" onclick="selErr(31, 'B')">struggling</span> (B) to control her breathing so she <span class="error-opt" id="opt-31-C" onclick="selErr(31, 'C')">didn't</span> (C) <span class="error-opt" id="opt-31-D" onclick="selErr(31, 'D')">past out</span> (D).`,
                ans: 'D',
                expl: "'Past' is noun/adj. Verb is 'pass' out.",
                explCn: "Did/Didn't åé¢è·ŸåŸå½¢åŠ¨è¯ã€‚Pass æ˜¯åŠ¨è¯ï¼ˆæ˜å€’ï¼‰ï¼ŒPast æ˜¯åè¯æˆ–ä»‹è¯ï¼ˆè¿‡å»ï¼‰ã€‚",
                trans: "å¥¹çš„è…¿æ„Ÿåˆ°è™šå¼±ï¼Œé‡é‡åœ°ååœ¨è·¯è¾¹ï¼ŒæŒ£æ‰ç€æ§åˆ¶å‘¼å¸ï¼Œä»¥å…æ˜å€’ã€‚"
            },
            {
                id: 32,
                html: `All over the world, people are <span class="error-opt" id="opt-32-A" onclick="selErr(32, 'A')">gaining</span> (A) <span class="error-opt" id="opt-32-B" onclick="selErr(32, 'B')">excess</span> (B) to the Internet and <span class="error-opt" id="opt-32-C" onclick="selErr(32, 'C')">using</span> (C) the computers <span class="error-opt" id="opt-32-D" onclick="selErr(32, 'D')">to go</span> (D) online.`,
                ans: 'B',
                expl: "Wrong word. 'Access' (entry), not 'Excess' (too much).",
                explCn: "è¯æ±‡æ··æ·†ã€‚Access (n.) é€šé“/ä½¿ç”¨æƒï¼›Excess (n.) è¿‡é‡/è¿‡åº¦ã€‚è¿™é‡ŒæŒ‡â€œè¿æ¥äº’è”ç½‘çš„æƒé™â€ã€‚",
                trans: "åœ¨ä¸–ç•Œå„åœ°ï¼Œäººä»¬æ­£åœ¨è·å¾—äº’è”ç½‘çš„è®¿é—®æƒï¼Œå¹¶ä½¿ç”¨ç”µè„‘ä¸Šç½‘ã€‚"
            },
            {
                id: 33,
                html: `Mrs. Chow <span class="error-opt" id="opt-33-A" onclick="selErr(33, 'A')">complemented</span> (A) Lynette on her punctuality in <span class="error-opt" id="opt-33-B" onclick="selErr(33, 'B')">completing</span> (B) her homework while <span class="error-opt" id="opt-33-C" onclick="selErr(33, 'C')">reprimanding</span> (C) Lucy on her <span class="error-opt" id="opt-33-D" onclick="selErr(33, 'D')">tardiness</span> (D).`,
                ans: 'A',
                expl: "Wrong word. 'Complimented' (praised), not 'Complemented' (matched).",
                explCn: "è¯æ±‡æ··æ·†ã€‚Compliment (v.) èµç¾/å¤¸å¥–ï¼›Complement (v.) è¡¥å……/ç›¸é…ã€‚å¥æ„æ˜¯è€å¸ˆå¤¸å¥–å¥¹å®ˆæ—¶ã€‚",
                trans: "å‘¨å¤ªå¤ªç§°èµ Lynette å®Œæˆä½œä¸šå®ˆæ—¶ï¼ŒåŒæ—¶æ–¥è´£ Lucy è¿Ÿåˆ°ã€‚"
            },
            {
                id: 34,
                html: `James <span class="error-opt" id="opt-34-A" onclick="selErr(34, 'A')">returned</span> (A) presently with a carriage, got the broken-hearted artist and the <span class="error-opt" id="opt-34-B" onclick="selErr(34, 'B')">broken-leg</span> (B) statue <span class="error-opt" id="opt-34-C" onclick="selErr(34, 'C')">aboard</span> (C), and drove off, whistling softly and <span class="error-opt" id="opt-34-D" onclick="selErr(34, 'D')">tranquilly</span> (D).`,
                ans: 'B',
                expl: "Adjective requires -ed: 'broken-legged'.",
                explCn: "å½¢å®¹â€œæ–­äº†è…¿çš„â€ï¼Œè‹±æ–‡ä¹ æƒ¯ç”¨ Noun + -ed æ„æˆå½¢å®¹è¯ã€‚ä¾‹å¦‚ï¼šOne-leggedã€‚æ‰€ä»¥åº”è¯¥æ˜¯ broken-leggedã€‚",
                trans: "James å¾ˆå¿«å¸¦ç€é©¬è½¦å›æ¥äº†ï¼Œè®©å¿ƒç¢çš„è‰ºæœ¯å®¶å’Œæ–­è…¿çš„é›•åƒä¸Šäº†è½¦ï¼Œç„¶åé©¾è½¦ç¦»å¼€ï¼Œè½»å£°è€Œå¹³é™åœ°å¹ç€å£å“¨ã€‚"
            },
            {
                id: 35,
                html: `The novel, Transformers Dark Moon <span class="error-opt" id="opt-35-A" onclick="selErr(35, 'A')">tells what happens</span> (A) in a futuristic society when everyone <span class="error-opt" id="opt-35-B" onclick="selErr(35, 'B')">is lulled</span> (B) into <span class="error-opt" id="opt-35-C" onclick="selErr(35, 'C')">complacence</span> (C) in a futuristic world that <span class="error-opt" id="opt-35-D" onclick="selErr(35, 'D')">relies upon</span> (D) the programming of human beings.`,
                ans: 'C',
                expl: "'Complacency' is the standard noun form here.",
                explCn: "è™½ç„¶ complacence ä¹Ÿæ˜¯è¯ï¼Œä½† Complacency æ˜¯æ›´æ ‡å‡†çš„åè¯å½¢å¼ï¼Œè¡¨ç¤ºâ€œè‡ªæ»¡/å®‰äºç°çŠ¶â€çš„çŠ¶æ€ã€‚",
                trans: "å°è¯´ã€Šå˜å½¢é‡‘åˆšï¼šæœˆé»‘ä¹‹æ—¶ã€‹è®²è¿°äº†ä¸€ä¸ªæœªæ¥ç¤¾ä¼šå‘ç”Ÿçš„äº‹æƒ…ï¼Œé‚£æ—¶æ¯ä¸ªäººéƒ½è¢«å“„éª—è¿›å…¥è‡ªæ»¡çŠ¶æ€ï¼Œè€Œè¿™ä¸ªæœªæ¥ä¸–ç•Œä¾èµ–äºäººç±»çš„ç¨‹åºåŒ–ã€‚"
            }
        ];

        function renderErrors() {
            let html = ``;
            errorQs.forEach(q => {
                html += `
                <div class="question-box">
                    <div style="margin-bottom:10px;color:var(--text-secondary);">Q${q.id}. Click the ERROR.</div>
                    <div class="sentence-display" id="q${q.id}-sent">${q.html}</div>
                    <div class="cn-text" style="color:#94a3b8; font-style:italic; margin-top:5px; padding-left:10px; border-left:2px solid #334155;">${q.trans}</div>
                    <div id="fb-${q.id}" class="feedback-box"></div>
                </div>`;
            });
            document.getElementById('error-container').innerHTML = html;
        }

        function selErr(qid, choice) {
            let q = errorQs.find(x => x.id === qid);
            let fb = document.getElementById(`fb-${qid}`);
            // Remove previous selections
            document.querySelectorAll(`#q${qid}-sent .error-opt`).forEach(el => el.classList.remove('selected', 'correct', 'wrong'));

            // Highlight select
            let el = document.getElementById(`opt-${qid}-${choice}`);
            if (el) el.classList.add('selected');

            if (choice === q.ans) {
                fb.style.display = 'block';
                fb.innerHTML = `<span style="color:var(--correct-color)">âœ… Correct!</span> ${q.expl} <div class="cn-text" style="color:#10b981; border-top:1px dashed #ffffff20; margin-top:5px; padding-top:5px;">è§£æ: ${q.explCn}</div>`;
                if (el) el.classList.add('correct');
            } else {
                fb.style.display = 'block';
                fb.innerHTML = `<span style="color:var(--wrong-color)">âŒ Try again.</span> check the grammar rules. <div class="cn-text">è¯·æ£€æŸ¥è¯­æ³•è§„åˆ™ã€‚</div>`;
                if (el) el.classList.add('wrong');
            }
        }

        // --- PART II WORD FORMS ---
        const wfAns = {
            36: "communication",
            37: "Historians",
            38: "convincing",
            39: "useful",
            40: "development",
            41: "entirely",
            42: "printing",
            43: "European",
            44: "movable",
            45: "achievements"
        };

        // Distractors for 2-attempt fallback
        const wfDistractors = {
            36: "communicate", // vs communication
            37: "History",     // vs Historians
            38: "convinced",   // vs convincing
            39: "use",         // vs useful
            40: "develop",     // vs development
            41: "entire",      // vs entirely
            42: "print",       // vs printing
            43: "Europe",      // vs European
            44: "move",        // vs movable
            45: "achievement"  // vs achievements (plural)
        };

        let attemptCounts = {};
        // Initialize attempts
        for (let i = 36; i <= 45; i++) attemptCounts[i] = 0;

        function checkWordForms() {
            let correctCount = 0;
            let total = 10;

            for (let i = 36; i <= 45; i++) {
                let container = document.getElementById(`wf-container-${i}`) || document.getElementById(`wf-${i}`).parentElement; // fallback logic
                // Check if it's input or select
                let el = document.getElementById(`wf-${i}`);
                if (!el) continue; // Should not happen

                let val = el.value.trim();
                let isCorrect = val.toLowerCase() === wfAns[i].toLowerCase();

                if (isCorrect) {
                    el.classList.add('correct');
                    el.classList.remove('wrong');
                    correctCount++;
                    // Disable if correct
                    el.disabled = true;
                    if (el.tagName === 'SELECT') el.style.borderColor = 'var(--correct-color)';
                } else {
                    el.classList.add('wrong');
                    el.classList.remove('correct');

                    // Increment attempts if still an input
                    if (el.tagName === 'INPUT') {
                        attemptCounts[i]++;
                        if (attemptCounts[i] >= 2) {
                            switchToOptions(i);
                        }
                    }
                }
            }

            let fb = document.getElementById('wf-feedback');
            if (correctCount === total) {
                fb.innerHTML = "ğŸ‰ Perfect Score! You master morphology. <div class='cn-text' style='color:#10b981'>å®Œç¾ï¼ä½ æŒæ¡äº†è¯å½¢å˜åŒ–ã€‚</div>";
            } else {
                fb.innerHTML = `You got ${correctCount} / ${total} correct. Check the red boxes. <div class='cn-text' style='color:#ef4444'>ä½ åšå¯¹äº† ${correctCount} / ${total} é¢˜ã€‚æ£€æŸ¥çº¢æ¡†éƒ¨åˆ†ã€‚</div>`;
            }
        }

        function switchToOptions(id) {
            let input = document.getElementById(`wf-${id}`);
            if (!input) return;

            let correct = wfAns[id];
            let wrong = wfDistractors[id];

            // Randomize order
            let opts = Math.random() < 0.5 ? [correct, wrong] : [wrong, correct];

            // Create Select
            let select = document.createElement('select');
            select.id = `wf-${id}`;
            select.className = 'word-form-input';
            select.style.cursor = 'pointer';
            select.style.padding = '5px';

            let defaultOpt = document.createElement('option');
            defaultOpt.text = "Choose...";
            defaultOpt.value = "";
            select.add(defaultOpt);

            opts.forEach(opt => {
                let o = document.createElement('option');
                o.text = opt;
                o.value = opt;
                select.add(o);
            });

            input.replaceWith(select);
        }


        function showPanel(n) {
            document.querySelectorAll('.exam-panel').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(`panel-${n}`).classList.add('active');
            document.querySelectorAll('.tab-btn')[n].classList.add('active');
        }

        // Init
        renderErrors();

    </script>
</body>

</html>